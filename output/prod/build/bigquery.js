!function(r,t){for(var e in t)r[e]=t[e]}(exports,function(r){var t={};function e(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return r[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=r,e.c=t,e.d=function(r,t,n){e.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:n})},e.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},e.t=function(r,t){if(1&t&&(r=e(r)),8&t)return r;if(4&t&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var s in r)e.d(n,s,function(t){return r[t]}.bind(null,s));return n},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,"a",t),t},e.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},e.p="",e(e.s=1)}([function(r,t,e){"use strict";var n=e(2);function s(r,t,e,n){this.message=r,this.expected=t,this.found=e,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,s)}!function(r,t){function e(){this.constructor=r}e.prototype=t.prototype,r.prototype=new e}(s,Error),s.buildMessage=function(r,t){var e={literal:function(r){return'"'+s(r.text)+'"'},class:function(r){var t,e="";for(t=0;t<r.parts.length;t++)e+=r.parts[t]instanceof Array?o(r.parts[t][0])+"-"+o(r.parts[t][1]):o(r.parts[t]);return"["+(r.inverted?"^":"")+e+"]"},any:function(r){return"any character"},end:function(r){return"end of input"},other:function(r){return r.description}};function n(r){return r.charCodeAt(0).toString(16).toUpperCase()}function s(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}function o(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}return"Expected "+function(r){var t,n,s,o=new Array(r.length);for(t=0;t<r.length;t++)o[t]=(s=r[t],e[s.type](s));if(o.sort(),o.length>0){for(t=1,n=1;t<o.length;t++)o[t-1]!==o[t]&&(o[n]=o[t],n++);o.length=n}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(r)+" but "+function(r){return r?'"'+s(r)+'"':"end of input"}(t)+" found."},r.exports={SyntaxError:s,parse:function(r,t){t=void 0!==t?t:{};var e,o={},u={start:Fo},a=Fo,i=function(r,t){return Kc(r,t)},c=function(r,t){return Xc(r,t)},l=Oo("=",!1),f=Oo("DUPLICATE",!0),p=Oo("BINARY",!0),b=Oo("MASTER",!0),d=Oo("LOGS",!0),v=Oo("BINLOG",!0),h=Oo("EVENTS",!0),y=Oo("CHARACTER",!0),w=Oo("SET",!0),L=Oo("COLLATION",!0),C=function(r,t){return Xc(r,t,1)},m=Oo("IF",!0),E=function(r,t){return Xc(r,t)},A=Oo("GRANTS",!0),_=Oo(".",!1),T=Oo("ALGORITHM",!0),g=Oo("DEFAULT",!0),j=Oo("INSTANT",!0),x=Oo("INPLACE",!0),N=Oo("COPY",!0),S=Oo("LOCK",!0),R=Oo("NONE",!0),I=Oo("SHARED",!0),k=Oo("EXCLUSIVE",!0),O=Oo("AUTO_INCREMENT",!0),$=Oo("UNIQUE",!0),U=Oo("KEY",!0),M=Oo("PRIMARY",!0),D=Oo("FOR",!0),P=Oo("COLUMN_FORMAT",!0),F=Oo("FIXED",!0),H=Oo("DYNAMIC",!0),W=Oo("STORAGE",!0),Y=Oo("DISK",!0),G=Oo("MEMORY",!0),B=Oo("MATCH FULL",!0),q=Oo("MATCH PARTIAL",!0),V=Oo("MATCH SIMPLE",!0),X=Oo("expiration_timestamp",!0),K=Oo("partition_expiration_days",!0),Q=Oo("require_partition_filter",!0),z=Oo("kms_key_name",!0),Z=Oo("friendly_name",!0),J=Oo("description",!0),rr=Oo("labels",!0),tr=Oo("default_rounding_mode",!0),er=Oo("AVG_ROW_LENGTH",!0),nr=Oo("KEY_BLOCK_SIZE",!0),sr=Oo("MAX_ROWS",!0),or=Oo("MIN_ROWS",!0),ur=Oo("STATS_SAMPLE_PAGES",!0),ar=Oo("CONNECTION",!0),ir=Oo("COMPRESSION",!0),cr=Oo("'",!1),lr=Oo("ZLIB",!0),fr=Oo("LZ4",!0),pr=Oo("ENGINE",!0),br=Oo("CLUSTER",!0),dr=Oo("BY",!0),vr=Oo("OPTIONS",!0),hr=Oo("CHARSET",!0),yr=Oo("COLLATE",!0),wr=Oo("READ",!0),Lr=Oo("LOCAL",!0),Cr=Oo("LOW_PRIORITY",!0),mr=Oo("WRITE",!0),Er=(Oo("FOREIGN KEY",!0),Oo("CHECK",!0),Oo("NOT",!0)),Ar=(Oo("REPLICATION",!0),Oo("BTREE",!0)),_r=Oo("HASH",!0),Tr=Oo("WITH",!0),gr=Oo("PARSER",!0),jr=Oo("VISIBLE",!0),xr=Oo("INVISIBLE",!0),Nr=Oo("RESTRICT",!0),Sr=Oo("CASCADE",!0),Rr=Oo("SET NULL",!0),Ir=Oo("NO ACTION",!0),kr=Oo("SET DEFAULT",!0),Or=Oo("UPDATE",!0),$r=Oo("CREATE",!0),Ur=Oo("DELETE",!0),Mr=Oo("INSERT",!0),Dr=Oo(":=",!1),Pr=Oo("return",!0),Fr=Oo("REPLACE",!0),Hr=Oo("ANALYZE",!0),Wr=Oo("ATTACH",!0),Yr=Oo("DATABASE",!0),Gr=Oo("RENAME",!0),Br=Oo("SHOW",!0),qr=Oo("DESCRIBE",!0),Vr=Oo("@",!1),Xr=Oo("@@",!1),Kr=Oo("$",!1),Qr=Oo("TEMPORARY",!0),zr=Oo("TEMP",!0),Zr=Oo("SCHEMA",!0),Jr=Oo("ALTER",!0),rt=Oo("SPATIAL",!0),tt=Oo("(",!1),et=Oo(")",!1),nt=Oo("INTERSECT",!0),st=Oo("EXCEPT",!0),ot=Oo("SYSTEM_TIME",!0),ut=Oo("AS",!0),at=Oo("OF",!0),it=Oo("UNNEST",!0),ct=function(r,t){return t.unshift(r),t.forEach(r=>{const{table:t,as:e}=r;tl[t]=t,e&&(tl[e]=t),function(r){const t=zc(r);r.clear(),t.forEach(t=>r.add(t))}(rl)}),t},lt=/^[@]/,ft=$o(["@"],!1,!1),pt=/^[{]/,bt=$o(["{"],!1,!1),dt=/^[=]/,vt=$o(["="],!1,!1),ht=/^[}]/,yt=$o(["}"],!1,!1),wt=Oo("TABLESAMPLE",!0),Lt=Oo("BERNOULLI",!0),Ct=Oo("RESERVOIR",!0),mt=Oo("PERCENT",!0),Et=Oo("ROWS",!0),At=Oo("RANGE",!0),_t=Oo("UNBOUNDED",!0),Tt=Oo("PRECEDING",!0),gt=Oo("CURRENT",!0),jt=Oo("ROW",!1),xt=Oo("FOLLOWING",!0),Nt=Oo("ROW",!0),St=Oo("!",!1),Rt=function(r){return r[0]+" "+r[2]},It=Oo(">=",!1),kt=Oo(">",!1),Ot=Oo("<=",!1),$t=Oo("<>",!1),Ut=Oo("<",!1),Mt=Oo("!=",!1),Dt=Oo("+",!1),Pt=Oo("-",!1),Ft=Oo("*",!1),Ht=Oo("/",!1),Wt=Oo("%",!1),Yt=Oo('"',!1),Gt=/^[^"]/,Bt=$o(['"'],!0,!1),qt=function(r){return r.join("")},Vt=/^[^']/,Xt=$o(["'"],!0,!1),Kt=Oo("`",!1),Qt=/^[^`]/,zt=$o(["`"],!0,!1),Zt=function(r,t){return r+t.join("")},Jt=/^[A-Za-z_]/,re=$o([["A","Z"],["a","z"],"_"],!1,!1),te=/^[A-Za-z0-9_\-]/,ee=$o([["A","Z"],["a","z"],["0","9"],"_","-"],!1,!1),ne=/^[A-Za-z0-9_:\-]/,se=$o([["A","Z"],["a","z"],["0","9"],"_",":","-"],!1,!1),oe=Oo(":",!1),ue=Oo("string_agg",!0),ae=Oo("ANY_VALUE",!0),ie=Oo("YEAR_MONTH",!0),ce=Oo("DAY_HOUR",!0),le=Oo("DAY_MINUTE",!0),fe=Oo("DAY_SECOND",!0),pe=Oo("DAY_MICROSECOND",!0),be=Oo("HOUR_MINUTE",!0),de=Oo("HOUR_SECOND",!0),ve=Oo("HOUR_MICROSECOND",!0),he=Oo("MINUTE_SECOND",!0),ye=Oo("MINUTE_MICROSECOND",!0),we=Oo("SECOND_MICROSECOND",!0),Le=Oo("TIMEZONE_HOUR",!0),Ce=Oo("TIMEZONE_MINUTE",!0),me=Oo("CENTURY",!0),Ee=Oo("DAYOFWEEK",!0),Ae=Oo("DAY",!0),_e=Oo("DATE",!0),Te=Oo("DECADE",!0),ge=Oo("DOW",!0),je=Oo("DOY",!0),xe=Oo("EPOCH",!0),Ne=Oo("HOUR",!0),Se=Oo("ISODOW",!0),Re=Oo("ISOWEEK",!0),Ie=Oo("ISOYEAR",!0),ke=Oo("MICROSECONDS",!0),Oe=Oo("MILLENNIUM",!0),$e=Oo("MILLISECONDS",!0),Ue=Oo("MINUTE",!0),Me=Oo("MONTH",!0),De=Oo("QUARTER",!0),Pe=Oo("SECOND",!0),Fe=Oo("TIME",!0),He=Oo("TIMEZONE",!0),We=Oo("WEEK",!0),Ye=Oo("YEAR",!0),Ge=Oo("DATE_TRUNC",!0),Be=Oo("R",!0),qe=function(r,t){return{type:r.toLowerCase(),value:t[1].join("")}},Ve=/^[^"\\\0-\x1F\x7F]/,Xe=$o(['"',"\\",["\0",""],""],!0,!1),Ke=/^[^'\\]/,Qe=$o(["'","\\"],!0,!1),ze=Oo("\\'",!1),Ze=Oo('\\"',!1),Je=Oo("\\\\",!1),rn=Oo("\\/",!1),tn=Oo("\\b",!1),en=Oo("\\f",!1),nn=Oo("\\n",!1),sn=Oo("\\r",!1),on=Oo("\\t",!1),un=Oo("\\u",!1),an=Oo("\\",!1),cn=Oo("''",!1),ln=Oo('""',!1),fn=Oo("``",!1),pn=/^[\n\r]/,bn=$o(["\n","\r"],!1,!1),dn=/^[0-9]/,vn=$o([["0","9"]],!1,!1),hn=/^[0-9a-fA-F]/,yn=$o([["0","9"],["a","f"],["A","F"]],!1,!1),wn=/^[eE]/,Ln=$o(["e","E"],!1,!1),Cn=/^[+\-]/,mn=$o(["+","-"],!1,!1),En=Oo("NULL",!0),An=Oo("NOT NULL",!0),_n=Oo("TRUE",!0),Tn=Oo("TO",!0),gn=Oo("FALSE",!0),jn=Oo("DROP",!0),xn=Oo("USE",!0),Nn=Oo("SELECT",!0),Sn=(Oo("RECURSIVE",!1),Oo("IGNORE",!0)),Rn=(Oo("EXPLAIN",!0),Oo("PARTITION",!0)),In=Oo("INTO",!0),kn=Oo("FROM",!0),On=Oo("UNLOCK",!0),$n=Oo("TABLE",!0),Un=Oo("TABLES",!0),Mn=Oo("ON",!0),Dn=Oo("LEFT",!0),Pn=Oo("RIGHT",!0),Fn=Oo("FULL",!0),Hn=Oo("INNER",!0),Wn=Oo("CROSS",!0),Yn=Oo("JOIN",!0),Gn=Oo("OUTER",!0),Bn=Oo("OVER",!0),qn=Oo("UNION",!0),Vn=Oo("VALUE",!0),Xn=Oo("VALUES",!0),Kn=Oo("USING",!0),Qn=Oo("WHERE",!0),zn=Oo("GROUP",!0),Zn=Oo("ORDER",!0),Jn=Oo("HAVING",!0),rs=Oo("QUALIFY",!0),ts=Oo("WINDOW",!0),es=Oo("ORDINAL",!0),ns=Oo("SAFE_ORDINAL",!0),ss=Oo("LIMIT",!0),os=Oo("OFFSET",!0),us=Oo("SAFE_OFFSET",!0),as=Oo("ASC",!0),is=Oo("DESC",!0),cs=Oo("ALL",!0),ls=Oo("DISTINCT",!0),fs=Oo("BETWEEN",!0),ps=Oo("IN",!0),bs=Oo("IS",!0),ds=Oo("LIKE",!0),vs=Oo("EXISTS",!0),hs=Oo("AND",!0),ys=Oo("OR",!0),ws=Oo("COUNT",!0),Ls=Oo("MAX",!0),Cs=Oo("MIN",!0),ms=Oo("SUM",!0),Es=Oo("AVG",!0),As=Oo("EXTRACT",!0),_s=Oo("CALL",!0),Ts=Oo("CASE",!0),gs=Oo("WHEN",!0),js=Oo("THEN",!0),xs=Oo("ELSE",!0),Ns=Oo("END",!0),Ss=Oo("CAST",!0),Rs=Oo("SAFE_CAST",!0),Is=Oo("ARRAY",!0),ks=Oo("BYTES",!0),Os=Oo("BOOL",!0),$s=(Oo("CHAR",!0),Oo("GEOGRAPHY",!0)),Us=(Oo("VARCHAR",!0),Oo("NUMERIC",!0)),Ms=Oo("DECIMAL",!0),Ds=Oo("SIGNED",!0),Ps=Oo("UNSIGNED",!0),Fs=Oo("INT64",!0),Hs=(Oo("ZEROFILL",!0),Oo("INTEGER",!0)),Ws=Oo("JSON",!0),Ys=(Oo("SMALLINT",!0),Oo("STRING",!0)),Gs=Oo("STRUCT",!0),Bs=(Oo("TINYINT",!0),Oo("TINYTEXT",!0),Oo("TEXT",!0),Oo("MEDIUMTEXT",!0),Oo("LONGTEXT",!0),Oo("BIGINT",!0),Oo("FLOAT64",!0)),qs=(Oo("DOUBLE",!0),Oo("DATETIME",!0)),Vs=Oo("TIMESTAMP",!0),Xs=Oo("TRUNCATE",!0),Ks=(Oo("USER",!0),Oo("CURRENT_DATE",!0)),Qs=(Oo("ADDDATE",!0),Oo("INTERVAL",!0)),zs=Oo("CURRENT_TIME",!0),Zs=Oo("CURRENT_TIMESTAMP",!0),Js=Oo("SESSION_USER",!0),ro=Oo("GLOBAL",!0),to=Oo("SESSION",!0),eo=Oo("PIVOT",!0),no=Oo("PERSIST",!0),so=Oo("PERSIST_ONLY",!0),oo=Oo("ADD",!0),uo=Oo("COLUMN",!0),ao=Oo("INDEX",!0),io=Oo("FULLTEXT",!0),co=Oo("COMMENT",!0),lo=(Oo("CONSTRAINT",!0),Oo("REFERENCES",!0)),fo=Oo(",",!1),po=Oo("[",!1),bo=Oo("]",!1),vo=Oo(";",!1),ho=Oo("||",!1),yo=Oo("&&",!1),wo=Oo("/*",!1),Lo=Oo("*/",!1),Co=Oo("--",!1),mo=Oo("#",!1),Eo={type:"any"},Ao=/^[ \t\n\r]/,_o=$o([" ","\t","\n","\r"],!1,!1),To=function(r){return{dataType:r}},go=Oo("MAX",!1),jo=Oo("max",!1),xo=function(r,t){return{dataType:r,definition:t,anglebracket:!0}},No=0,So=[{line:1,column:1}],Ro=0,Io=[],ko=0;if("startRule"in t){if(!(t.startRule in u))throw new Error("Can't start parsing from rule \""+t.startRule+'".');a=u[t.startRule]}function Oo(r,t){return{type:"literal",text:r,ignoreCase:t}}function $o(r,t,e){return{type:"class",parts:r,inverted:t,ignoreCase:e}}function Uo(t){var e,n=So[t];if(n)return n;for(e=t-1;!So[e];)e--;for(n={line:(n=So[e]).line,column:n.column};e<t;)10===r.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return So[t]=n,n}function Mo(r,t){var e=Uo(r),n=Uo(t);return{start:{offset:r,line:e.line,column:e.column},end:{offset:t,line:n.line,column:n.column}}}function Do(r){No<Ro||(No>Ro&&(Ro=No,Io=[]),Io.push(r))}function Po(r,t,e){return new s(s.buildMessage(r,t),r,t,e)}function Fo(){var r,t;return r=No,Ic()!==o&&(t=function(){var r,t,e,n,s,u,a,i;if(r=No,(t=Ho())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Sc())!==o&&(a=Ic())!==o&&(i=Ho())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Sc())!==o&&(a=Ic())!==o&&(i=Ho())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,t=function(r,t){const e=r&&r.ast||r,n=t&&t.length&&t[0].length>=4?[e]:e;for(let r=0;r<t.length;r++)t[r][3]&&0!==t[r][3].length&&n.push(t[r][3]&&t[r][3].ast||t[r][3]);return{tableList:Array.from(Jc),columnList:zc(rl),ast:n}}(t,e),r=t):(No=r,r=o)}else No=r,r=o;return r}())!==o?(r,r=t):(No=r,r=o),r}function Ho(){var t;return(t=function(){var t,e,n,s,u,a,i;(t=function(){var r,t,e,n;r=No,(t=Ou())!==o&&Ic()!==o?((e=fa())===o&&(e=null),e!==o&&Ic()!==o?((n=da())===o&&(n=null),n!==o&&Ic()!==o?(r,s=t,u=e,a=n,t={tableList:Array.from(Jc),columnList:zc(rl),ast:{...s.ast,_orderby:u,_limit:a,_parentheses:s._parentheses}},r=t):(No=r,r=o)):(No=r,r=o)):(No=r,r=o);var s,u,a;return r}())===o&&(t=No,e=No,40===r.charCodeAt(No)?(n="(",No++):(n=o,0===ko&&Do(tt)),n!==o&&(s=Ic())!==o&&(u=Uu())!==o&&(a=Ic())!==o?(41===r.charCodeAt(No)?(i=")",No++):(i=o,0===ko&&Do(et)),i!==o?e=n=[n,s,u,a,i]:(No=e,e=o)):(No=e,e=o),e!==o&&(t,e={...e[2],parentheses_symbol:!0}),t=e);return t}())===o&&(t=function(){var t;(t=Ou())===o&&(t=function(){var r,t,e,n,s,u,a,i;r=No,(t=Au())!==o&&Ic()!==o&&(e=Ku())!==o&&Ic()!==o&&ji()!==o&&Ic()!==o&&(n=Qo())!==o&&Ic()!==o?((s=Vu())===o&&(s=null),s!==o&&Ic()!==o?((u=na())===o&&(u=null),u!==o&&Ic()!==o?((a=fa())===o&&(a=null),a!==o&&Ic()!==o?((i=da())===o&&(i=null),i!==o?(r,l=n,f=s,p=u,b=a,d=i,(c=e)&&c.forEach(r=>{const{db:t,as:e,table:n,join:s}=r,o=s?"select":"update";Jc.add(`${o}::${t}::${n}`)}),f&&f.forEach(r=>{r.table&&Jc.add(`update::${r.db}::${r.table}`)}),l&&l.forEach(r=>rl.add(`update::${r.table}::${r.column}`)),t={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"update",table:c,set:l,where:p,orderby:b,limit:d}},r=t):(No=r,r=o)):(No=r,r=o)):(No=r,r=o)):(No=r,r=o)):(No=r,r=o);var c,l,f,p,b,d;return r}())===o&&(t=function(){var r,t,e,n,s,u,a,i;r=No,(t=Zo())!==o&&Ic()!==o?((e=Ti())===o&&(e=null),e!==o&&Ic()!==o&&(n=ra())!==o&&Ic()!==o?((s=Jo())===o&&(s=null),s!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(u=Ha())!==o&&Ic()!==o&&Tc()!==o&&Ic()!==o&&(a=ru())!==o&&Ic()!==o?((i=tu())===o&&(i=null),i!==o?(r,t=function(r,t,e,n,s,o){if(t&&(Jc.add(`insert::${t.db}::${t.table}`),t.as=null),n){let r=t&&t.table||null;Array.isArray(s)&&s.forEach((r,t)=>{if(r.value.length!=n.length)throw new Error("Error: column count doesn't match value count at row "+(t+1))}),n.forEach(t=>rl.add(`insert::${r}::${t}`))}return{tableList:Array.from(Jc),columnList:zc(rl),ast:{type:r,table:[t],columns:n,values:s,partition:e,on_duplicate_update:o}}}(t,n,s,u,a,i),r=t):(No=r,r=o)):(No=r,r=o)):(No=r,r=o)):(No=r,r=o);return r}())===o&&(t=function(){var t,e,n,s,u,a,i,c;t=No,(e=Zo())!==o&&Ic()!==o?((n=function(){var t,e,n,s;t=No,"ignore"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Sn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())===o&&(n=null),n!==o&&Ic()!==o?((s=Ti())===o&&(s=null),s!==o&&Ic()!==o&&(u=ra())!==o&&Ic()!==o?((a=Jo())===o&&(a=null),a!==o&&Ic()!==o&&(i=ru())!==o&&Ic()!==o?((c=tu())===o&&(c=null),c!==o?(t,e=function(r,t,e,n,s,o,u){n&&(Jc.add(`insert::${n.db}::${n.table}`),rl.add(`insert::${n.table}::(.*)`),n.as=null);const a=[t,e].filter(r=>r).map(r=>r[0]&&r[0].toLowerCase()).join(" ");return{tableList:Array.from(Jc),columnList:zc(rl),ast:{type:r,table:[n],columns:null,values:o,partition:s,prefix:a,on_duplicate_update:u}}}(e,n,s,u,a,i,c),t=e):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=function(){var r,t,e,n,s,u,a;r=No,(t=Zo())!==o&&Ic()!==o?((e=Ti())===o&&(e=null),e!==o&&Ic()!==o&&(n=ra())!==o&&Ic()!==o?((s=Jo())===o&&(s=null),s!==o&&Ic()!==o&&ji()!==o&&Ic()!==o&&(u=Qo())!==o&&Ic()!==o?((a=tu())===o&&(a=null),a!==o?(r,i=t,l=s,f=u,p=a,(c=n)&&(Jc.add(`insert::${c.db}::${c.table}`),rl.add(`insert::${c.table}::(.*)`),c.as=null),t={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:i,table:[c],columns:null,partition:l,set:f,on_duplicate_update:p}},r=t):(No=r,r=o)):(No=r,r=o)):(No=r,r=o)):(No=r,r=o);var i,c,l,f,p;return r}())===o&&(t=function(){var r,t,e,n,s,u,a;r=No,(t=Tu())!==o&&Ic()!==o?((e=Ku())===o&&(e=null),e!==o&&Ic()!==o?((n=Vu())===o&&(n=null),n!==o&&Ic()!==o?((s=na())===o&&(s=null),s!==o&&Ic()!==o?((u=fa())===o&&(u=null),u!==o&&Ic()!==o?((a=da())===o&&(a=null),a!==o?(r,t=function(r,t,e,n,s){if(r&&r.forEach(r=>Jc.add(`delete::${r.db}::${r.table}`)),t&&t.forEach(r=>{const{db:t,as:e,table:n,join:s}=r,o=s?"select":"delete";n&&Jc.add(`${o}::${t}::${n}`),s||rl.add(`delete::${n}::(.*)`)}),null===r&&1===t.length){const e=t[0];r=[{db:e.db,table:e.table,as:e.as,addition:!0}]}return{tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"delete",table:r,from:t,where:e,orderby:n,limit:s}}}(e,n,s,u,a),r=t):(No=r,r=o)):(No=r,r=o)):(No=r,r=o)):(No=r,r=o)):(No=r,r=o)):(No=r,r=o);return r}())===o&&(t=function(){var t;(t=function(){var t,e,n;t=No,(e=function(){var t,e,n,s;t=No,"analyze"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(Hr));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o&&(n=ra())!==o&&Ic()!==o?(t,s=e,u=n,Jc.add(`${s}::${u.db}::${u.table}`),e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:s.toLowerCase(),table:u}},t=e):(No=t,t=o);var s,u;return t}())===o&&(t=function(){var t,e,n,s,u,a;t=No,(e=function(){var t,e,n,s;t=No,"attach"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Wr));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o&&(n=xu())!==o&&Ic()!==o&&(s=ya())!==o&&Ic()!==o&&(u=xi())!==o&&Ic()!==o&&(a=Wa())!==o&&Ic()!==o?(t,i=e,c=n,l=s,f=u,p=a,e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:i.toLowerCase(),database:c,expr:l,as:f&&f[0].toLowerCase(),schema:p}},t=e):(No=t,t=o);var i,c,l,f,p;return t}())===o&&(t=function(){var r,t,e,n,s,u;r=No,(t=Ai())!==o&&Ic()!==o&&(e=Ni())!==o&&Ic()!==o&&(n=Ku())!==o?(r,a=t,i=e,(c=n)&&c.forEach(r=>Jc.add(`${a}::${r.db}::${r.table}`)),t={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:a.toLowerCase(),keyword:i.toLowerCase(),name:c}},r=t):(No=r,r=o);var a,i,c;r===o&&(r=No,(t=Ai())!==o&&Ic()!==o&&(e=wc())!==o&&Ic()!==o&&(n=Fa())!==o&&Ic()!==o&&Ri()!==o&&Ic()!==o&&(s=ra())!==o&&Ic()!==o?((u=function(){var r,t,e,n,s,u;r=No,(t=uu())===o&&(t=au());if(t!==o){for(e=[],n=No,(s=Ic())!==o?((u=uu())===o&&(u=au()),u!==o?n=s=[s,u]:(No=n,n=o)):(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o?((u=uu())===o&&(u=au()),u!==o?n=s=[s,u]:(No=n,n=o)):(No=n,n=o);e!==o?(r,t=C(t,e),r=t):(No=r,r=o)}else No=r,r=o;return r}())===o&&(u=null),u!==o&&Ic()!==o?(r,t=function(r,t,e,n,s){return{tableList:Array.from(Jc),columnList:zc(rl),ast:{type:r.toLowerCase(),keyword:t.toLowerCase(),name:e,table:n,options:s}}}(t,e,n,s,u),r=t):(No=r,r=o)):(No=r,r=o));return r}())===o&&(t=function(){var t;(t=function(){var t,e,n,s,u,a,i,l,f,p,b,d,v;t=No,(e=_u())!==o&&Ic()!==o?(n=No,(s=rc())!==o&&(u=Ic())!==o&&(a=ju())!==o?n=s=[s,u,a]:(No=n,n=o),n===o&&(n=null),n!==o&&(s=Ic())!==o?((u=function(){var t,e,n,s;t=No,"temp"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(zr));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())===o&&(u=Iu()),u===o&&(u=null),u!==o&&(a=Ic())!==o&&(i=Ni())!==o&&Ic()!==o?((l=ou())===o&&(l=null),l!==o&&Ic()!==o&&(f=ra())!==o&&Ic()!==o?((p=function(){var r,t,e,n,s,u,a,i,l;if(r=No,(t=_c())!==o)if(Ic()!==o)if((e=iu())!==o){for(n=[],s=No,(u=Ic())!==o&&(a=Ec())!==o&&(i=Ic())!==o&&(l=iu())!==o?s=u=[u,a,i,l]:(No=s,s=o);s!==o;)n.push(s),s=No,(u=Ic())!==o&&(a=Ec())!==o&&(i=Ic())!==o&&(l=iu())!==o?s=u=[u,a,i,l]:(No=s,s=o);n!==o&&(s=Ic())!==o&&(u=Tc())!==o?(r,t=c(e,n),r=t):(No=r,r=o)}else No=r,r=o;else No=r,r=o;else No=r,r=o;return r}())===o&&(p=null),p!==o&&Ic()!==o?((b=function(){var r,t,e,n,s,u,a,i;if(r=No,(t=vu())!==o){for(e=[],n=No,(s=Ic())!==o?((u=Ec())===o&&(u=null),u!==o&&(a=Ic())!==o&&(i=vu())!==o?n=s=[s,u,a,i]:(No=n,n=o)):(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o?((u=Ec())===o&&(u=null),u!==o&&(a=Ic())!==o&&(i=vu())!==o?n=s=[s,u,a,i]:(No=n,n=o)):(No=n,n=o);e!==o?(r,t=Xc(t,e),r=t):(No=r,r=o)}else No=r,r=o;return r}())===o&&(b=null),b!==o&&Ic()!==o?((d=xi())===o&&(d=null),d!==o&&Ic()!==o?((v=Ou())===o&&(v=null),v!==o?(t,h=e,y=n,w=u,L=l,m=p,E=b,A=d,_=v,(C=f)&&Jc.add(`create::${C.db}::${C.table}`),e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:h[0].toLowerCase(),keyword:"table",temporary:w&&w[0].toLowerCase(),if_not_exists:L,table:[C],or_replace:y&&"or replace",as:A&&A[0].toLowerCase(),query_expr:_&&_.ast,create_definitions:m,table_options:E}},t=e):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o);var h,y,w,L,C,m,E,A,_;t===o&&(t=No,(e=_u())!==o&&Ic()!==o?((n=Iu())===o&&(n=null),n!==o&&(s=Ic())!==o&&(u=Ni())!==o&&(a=Ic())!==o?((i=ou())===o&&(i=null),i!==o&&Ic()!==o&&(l=Ku())!==o&&Ic()!==o&&(f=function r(){var t,e;(t=function(){var r,t;r=No,Qi()!==o&&Ic()!==o&&(t=Ku())!==o?(r,r={type:"like",table:t}):(No=r,r=o);return r}())===o&&(t=No,_c()!==o&&Ic()!==o&&(e=r())!==o&&Ic()!==o&&Tc()!==o?(t,(n=e).parentheses=!0,t=n):(No=t,t=o));var n;return t}())!==o?(t,e=function(r,t,e,n,s){return n&&n.forEach(r=>Jc.add(`create::${r.db}::${r.table}`)),{tableList:Array.from(Jc),columnList:zc(rl),ast:{type:r[0].toLowerCase(),keyword:"table",temporary:t&&t[0].toLowerCase(),if_not_exists:e,table:n,like:s}}}(e,n,i,l,f),t=e):(No=t,t=o)):(No=t,t=o)):(No=t,t=o));return t}())===o&&(t=function(){var t,e,n,s,u,a;t=No,(e=_u())!==o&&Ic()!==o?((n=xu())===o&&(n=function(){var t,e,n,s;t=No,"schema"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Zr));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}()),n!==o&&Ic()!==o?((s=ou())===o&&(s=null),s!==o&&Ic()!==o&&(u=Xa())!==o&&Ic()!==o?((a=function(){var r,t,e,n,s,u;if(r=No,(t=hu())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=hu())!==o?n=s=[s,u]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=hu())!==o?n=s=[s,u]:(No=n,n=o);e!==o?(r,t=C(t,e),r=t):(No=r,r=o)}else No=r,r=o;return r}())===o&&(a=null),a!==o?(t,i=e,c=s,l=u,f=a,e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:i[0].toLowerCase(),keyword:"database",if_not_exists:c,database:l,create_definitions:f}},t=e):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o);var i,c,l,f;return t}());return t}())===o&&(t=function(){var t,e,n,s;t=No,(e=function(){var t,e,n,s;t=No,"truncate"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(Xs));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="TRUNCATE"):(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o?((n=Ni())===o&&(n=null),n!==o&&Ic()!==o&&(s=Ku())!==o?(t,u=e,a=n,(i=s)&&i.forEach(r=>Jc.add(`${u}::${r.db}::${r.table}`)),e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:u.toLowerCase(),keyword:a&&a.toLowerCase()||"table",name:i}},t=e):(No=t,t=o)):(No=t,t=o);var u,a,i;return t}())===o&&(t=function(){var r,t,e;r=No,(t=Nu())!==o&&Ic()!==o&&Ni()!==o&&Ic()!==o&&(e=function(){var r,t,e,n,s,u,a,i;if(r=No,(t=Xu())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=Xu())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=Xu())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,t=c(t,e),r=t):(No=r,r=o)}else No=r,r=o;return r}())!==o?(r,(n=e).forEach(r=>r.forEach(r=>r.table&&Jc.add(`rename::${r.db}::${r.table}`))),t={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"rename",table:n}},r=t):(No=r,r=o);var n;return r}())===o&&(t=function(){var t,e,n;t=No,(e=function(){var t,e,n,s;t=No,"call"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(_s));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="CALL"):(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o&&(n=Xo())!==o?(t,s=n,e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"call",expr:s}},t=e):(No=t,t=o);var s;return t}())===o&&(t=function(){var t,e,n;t=No,(e=function(){var t,e,n,s;t=No,"use"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(xn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o&&(n=Wa())!==o?(t,s=n,Jc.add(`use::${s}::null`),e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"use",db:s}},t=e):(No=t,t=o);var s;return t}())===o&&(t=function(){var t,e,n,s;t=No,(e=function(){var t,e,n,s;t=No,"alter"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Jr));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o&&Ni()!==o&&Ic()!==o&&(n=Ku())!==o&&Ic()!==o&&(s=function(){var r,t,e,n,s,u,a,i;if(r=No,(t=yu())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=yu())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=yu())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,t=c(t,e),r=t):(No=r,r=o)}else No=r,r=o;return r}())!==o?(t,a=s,(u=n)&&u.length>0&&u.forEach(r=>Jc.add(`alter::${r.db}::${r.table}`)),e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"alter",table:u,expr:a}},t=e):(No=t,t=o);var u,a;return t}())===o&&(t=function(){var t,e,n,s;t=No,(e=ji())!==o&&Ic()!==o?((n=function(){var t,e,n,s;t=No,"global"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(ro));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="GLOBAL"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(n=function(){var t,e,n,s;t=No,"session"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(to));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="SESSION"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(n=function(){var t,e,n,s;t=No,"local"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Lr));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="LOCAL"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(n=function(){var t,e,n,s;t=No,"persist"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(no));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="PERSIST"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(n=function(){var t,e,n,s;t=No,"persist_only"===r.substr(No,12).toLowerCase()?(e=r.substr(No,12),No+=12):(e=o,0===ko&&Do(so));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="PERSIST_ONLY"):(No=t,t=o)):(No=t,t=o);return t}()),n===o&&(n=null),n!==o&&Ic()!==o&&(s=Yo())!==o?(t,u=n,(a=s).keyword=u,e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"set",expr:a}},t=e):(No=t,t=o)):(No=t,t=o);var u,a;return t}())===o&&(t=function(){var t,e,n;t=No,(e=function(){var t,e,n,s;t=No,"lock"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(S));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o&&Si()!==o&&Ic()!==o&&(n=function(){var r,t,e,n,s,u,a,i;if(r=No,(t=fu())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=fu())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=fu())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,t=E(t,e),r=t):(No=r,r=o)}else No=r,r=o;return r}())!==o?(t,s=n,e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"lock",keyword:"tables",tables:s}},t=e):(No=t,t=o);var s;return t}())===o&&(t=function(){var t,e;t=No,(e=function(){var t,e,n,s;t=No,"unlock"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(On));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o&&Si()!==o?(t,e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"unlock",keyword:"tables"}},t=e):(No=t,t=o);return t}())===o&&(t=function(){var t,e,n,s,u,a,i,c,l;t=No,(e=Su())!==o&&Ic()!==o?("binary"===r.substr(No,6).toLowerCase()?(n=r.substr(No,6),No+=6):(n=o,0===ko&&Do(p)),n===o&&("master"===r.substr(No,6).toLowerCase()?(n=r.substr(No,6),No+=6):(n=o,0===ko&&Do(b))),n!==o&&(s=Ic())!==o?("logs"===r.substr(No,4).toLowerCase()?(u=r.substr(No,4),No+=4):(u=o,0===ko&&Do(d)),u!==o?(t,f=n,e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"show",suffix:"logs",keyword:f.toLowerCase()}},t=e):(No=t,t=o)):(No=t,t=o)):(No=t,t=o);var f;t===o&&(t=No,(e=Su())!==o&&Ic()!==o?("binlog"===r.substr(No,6).toLowerCase()?(n=r.substr(No,6),No+=6):(n=o,0===ko&&Do(v)),n!==o&&(s=Ic())!==o?("events"===r.substr(No,6).toLowerCase()?(u=r.substr(No,6),No+=6):(u=o,0===ko&&Do(h)),u!==o&&(a=Ic())!==o?((i=Ra())===o&&(i=null),i!==o&&Ic()!==o?((c=Vu())===o&&(c=null),c!==o&&Ic()!==o?((l=da())===o&&(l=null),l!==o?(t,C=i,m=c,_=l,e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"show",suffix:"events",keyword:"binlog",in:C,from:m,limit:_}},t=e):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,(e=Su())!==o&&Ic()!==o?(n=No,"character"===r.substr(No,9).toLowerCase()?(s=r.substr(No,9),No+=9):(s=o,0===ko&&Do(y)),s!==o&&(u=Ic())!==o?("set"===r.substr(No,3).toLowerCase()?(a=r.substr(No,3),No+=3):(a=o,0===ko&&Do(w)),a!==o?n=s=[s,u,a]:(No=n,n=o)):(No=n,n=o),n===o&&("collation"===r.substr(No,9).toLowerCase()?(n=r.substr(No,9),No+=9):(n=o,0===ko&&Do(L))),n!==o&&(s=Ic())!==o?((u=Sa())===o&&(u=na()),u===o&&(u=null),u!==o?(t,e=function(r,t){let e=Array.isArray(r)&&r||[r];return{tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"show",suffix:e[2]&&e[2].toLowerCase(),keyword:e[0].toLowerCase(),expr:t}}}(n,u),t=e):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t===o&&(t=function(){var t,e,n,s;t=No,(e=Su())!==o&&Ic()!==o?("grants"===r.substr(No,6).toLowerCase()?(n=r.substr(No,6),No+=6):(n=o,0===ko&&Do(A)),n!==o&&Ic()!==o?((s=function(){var t,e,n,s,u,a,i;t=No,"for"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(D));e!==o&&Ic()!==o&&(n=Wa())!==o&&Ic()!==o?(s=No,(u=Ru())!==o&&(a=Ic())!==o&&(i=Wa())!==o?s=u=[u,a,i]:(No=s,s=o),s===o&&(s=null),s!==o&&(u=Ic())!==o?((a=function(){var r,t;r=No,Ui()!==o&&Ic()!==o&&(t=function(){var r,t,e,n,s,u,a,i;if(r=No,(t=Wa())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=Wa())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=Wa())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,t=E(t,e),r=t):(No=r,r=o)}else No=r,r=o;return r}())!==o?(r,r=t):(No=r,r=o);return r}())===o&&(a=null),a!==o?(t,l=a,e={user:n,host:(c=s)&&c[2],role_list:l},t=e):(No=t,t=o)):(No=t,t=o)):(No=t,t=o);var c,l;return t}())===o&&(s=null),s!==o?(t,u=s,e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"show",keyword:"grants",for:u}},t=e):(No=t,t=o)):(No=t,t=o)):(No=t,t=o);var u;return t}())));var C,m,_;return t}())===o&&(t=function(){var t,e,n;t=No,(e=Gi())===o&&(e=function(){var t,e,n,s;t=No,"describe"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(qr));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}());e!==o&&Ic()!==o&&(n=Wa())!==o?(t,s=n,e={tableList:Array.from(Jc),columnList:zc(rl),ast:{type:"desc",table:s}},t=e):(No=t,t=o);var s;return t}());return t}())===o&&(t=function(){var r,t;r=[],t=Wo();for(;t!==o;)r.push(t),t=Wo();return r}());return t}()),t}function Wo(){var t,e;return t=No,No,Zc=[],(!0?void 0:o)!==o&&Ic()!==o?((e=Yo())===o&&(e=function(){var t,e;t=No,function(){var t;"return"===r.substr(No,6).toLowerCase()?(t=r.substr(No,6),No+=6):(t=o,0===ko&&Do(Pr));return t}()!==o&&Ic()!==o&&(e=Go())!==o?(t,t={type:"return",expr:e}):(No=t,t=o);return t}()),e!==o?(t,t={stmt:e,vars:Zc}):(No=t,t=o)):(No=t,t=o),t}function Yo(){var t,e,n,s;return t=No,(e=eu())===o&&(e=nu()),e!==o&&Ic()!==o?((n=function(){var t;":="===r.substr(No,2)?(t=":=",No+=2):(t=o,0===ko&&Do(Dr));return t}())===o&&(n=gu()),n!==o&&Ic()!==o&&(s=Go())!==o?(t,t=e={type:"assign",left:e,symbol:n,right:s}):(No=t,t=o)):(No=t,t=o),t}function Go(){var r;return(r=Uu())===o&&(r=function(){var r,t,e,n,s;r=No,(t=eu())!==o&&Ic()!==o&&(e=Ju())!==o&&Ic()!==o&&(n=eu())!==o&&Ic()!==o&&(s=ea())!==o?(r,r=t={type:"join",ltable:t,rtable:n,op:e,on:s}):(No=r,r=o);return r}())===o&&(r=Bo())===o&&(r=function(){var r,t;r=No,xc()!==o&&Ic()!==o&&(t=Ko())!==o&&Ic()!==o&&Nc()!==o?(r,r={type:"array",value:t,brackets:!0}):(No=r,r=o);return r}()),r}function Bo(){var r,t,e,n,s,u,a,c;if(r=No,(t=qo())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=ka())!==o&&(a=Ic())!==o&&(c=qo())!==o?n=s=[s,u,a,c]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=ka())!==o&&(a=Ic())!==o&&(c=qo())!==o?n=s=[s,u,a,c]:(No=n,n=o);e!==o?(r,r=t=i(t,e)):(No=r,r=o)}else No=r,r=o;return r}function qo(){var r,t,e,n,s,u,a,c;if(r=No,(t=Vo())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=$a())!==o&&(a=Ic())!==o&&(c=Vo())!==o?n=s=[s,u,a,c]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=$a())!==o&&(a=Ic())!==o&&(c=Vo())!==o?n=s=[s,u,a,c]:(No=n,n=o);e!==o?(r,r=t=i(t,e)):(No=r,r=o)}else No=r,r=o;return r}function Vo(){var r,t,e;return(r=ui())===o&&(r=eu())===o&&(r=Xo())===o&&(r=Za())===o&&(r=No,_c()!==o&&Ic()!==o&&(t=Bo())!==o&&Ic()!==o&&Tc()!==o?(r,(e=t).parentheses=!0,r=e):(No=r,r=o)),r}function Xo(){var r,t,e;return r=No,(t=ei())!==o&&Ic()!==o&&_c()!==o&&Ic()!==o?((e=Ko())===o&&(e=null),e!==o&&Ic()!==o&&Tc()!==o?(r,r=t={type:"function",name:t,args:{type:"expr_list",value:e}}):(No=r,r=o)):(No=r,r=o),r===o&&(r=No,(t=ei())!==o&&(r,t=function(r){return{type:"function",name:r,args:null}}(t)),r=t),r}function Ko(){var r,t,e,n,s,u,a,i;if(r=No,(t=Vo())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=Vo())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=Vo())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,r=t=c(t,e)):(No=r,r=o)}else No=r,r=o;return r}function Qo(){var r,t,e,n,s,u,a,i;if(r=No,(t=zo())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=zo())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=zo())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,r=t=c(t,e)):(No=r,r=o)}else No=r,r=o;return r}function zo(){var t,e,n,s,u,a,i,c,f;return t=No,e=No,(n=Wa())!==o&&(s=Ic())!==o&&(u=mc())!==o?e=n=[n,s,u]:(No=e,e=o),e===o&&(e=null),e!==o&&(n=Ic())!==o&&(s=Ga())!==o&&(u=Ic())!==o?(61===r.charCodeAt(No)?(a="=",No++):(a=o,0===ko&&Do(l)),a!==o&&Ic()!==o&&(i=Ia())!==o?(t,t=e={column:s,value:i,table:(f=e)&&f[0]}):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,e=No,(n=Wa())!==o&&(s=Ic())!==o&&(u=mc())!==o?e=n=[n,s,u]:(No=e,e=o),e===o&&(e=null),e!==o&&(n=Ic())!==o&&(s=Ga())!==o&&(u=Ic())!==o?(61===r.charCodeAt(No)?(a="=",No++):(a=o,0===ko&&Do(l)),a!==o&&Ic()!==o&&(i=$i())!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(c=Fa())!==o&&Ic()!==o&&Tc()!==o?(t,t=e=function(r,t,e){return{column:t,value:e,table:r&&r[0],keyword:"values"}}(e,s,c)):(No=t,t=o)):(No=t,t=o)),t}function Zo(){var t,e;return t=No,(e=function(){var t,e,n,s;t=No,"insert"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Mr));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&(t,e="insert"),(t=e)===o&&(t=No,(e=ju())!==o&&(t,e="replace"),t=e),t}function Jo(){var r,t,e,n,s,u,a,i,c;if(r=No,_i()!==o)if(Ic()!==o)if((t=_c())!==o)if(Ic()!==o)if((e=Xa())!==o){for(n=[],s=No,(u=Ic())!==o&&(a=Ec())!==o&&(i=Ic())!==o&&(c=Xa())!==o?s=u=[u,a,i,c]:(No=s,s=o);s!==o;)n.push(s),s=No,(u=Ic())!==o&&(a=Ec())!==o&&(i=Ic())!==o&&(c=Xa())!==o?s=u=[u,a,i,c]:(No=s,s=o);n!==o&&(s=Ic())!==o&&(u=Tc())!==o?(r,r=Xc(e,n)):(No=r,r=o)}else No=r,r=o;else No=r,r=o;else No=r,r=o;else No=r,r=o;else No=r,r=o;return r===o&&(r=No,_i()!==o&&Ic()!==o&&(t=su())!==o?(r,r=t):(No=r,r=o)),r}function ru(){var r;return(r=function(){var r,t;r=No,$i()!==o&&Ic()!==o&&(t=function(){var r,t,e,n,s,u,a,i;if(r=No,(t=su())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=su())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=su())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,t=c(t,e),r=t):(No=r,r=o)}else No=r,r=o;return r}())!==o?(r,r=t):(No=r,r=o);return r}())===o&&(r=Du()),r}function tu(){var t,e,n;return t=No,Ri()!==o&&Ic()!==o?("duplicate"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do(f)),e!==o&&Ic()!==o&&Lc()!==o&&Ic()!==o&&Au()!==o&&Ic()!==o&&(n=Qo())!==o?(t,t={keyword:"on duplicate key update",set:n}):(No=t,t=o)):(No=t,t=o),t}function eu(){var t,e,n,s,u;return t=No,(e=function(){var t;(t=function(){var t;"@@"===r.substr(No,2)?(t="@@",No+=2):(t=o,0===ko&&Do(Xr));return t}())===o&&(t=Ru())===o&&(t=function(){var t;36===r.charCodeAt(No)?(t="$",No++):(t=o,0===ko&&Do(Kr));return t}());return t}())!==o&&(n=nu())!==o?(t,s=e,u=n,t=e={type:"var",...u,prefix:s}):(No=t,t=o),t}function nu(){var t,e,n,s,u;return t=No,(e=Xa())!==o&&(n=function(){var t,e,n,s,u;t=No,e=[],n=No,46===r.charCodeAt(No)?(s=".",No++):(s=o,0===ko&&Do(_));s!==o&&(u=Xa())!==o?n=s=[s,u]:(No=n,n=o);for(;n!==o;)e.push(n),n=No,46===r.charCodeAt(No)?(s=".",No++):(s=o,0===ko&&Do(_)),s!==o&&(u=Xa())!==o?n=s=[s,u]:(No=n,n=o);e!==o&&(t,e=function(r){const t=[];for(let e=0;e<r.length;e++)t.push(r[e][1]);return t}(e));return t=e}())!==o?(t,s=e,u=n,Zc.push(s),t=e={type:"var",name:s,members:u,prefix:null}):(No=t,t=o),t===o&&(t=No,(e=bi())!==o&&(t,e={type:"var",name:e.value,members:[],quoted:null,prefix:null}),t=e),t}function su(){var r,t;return r=No,_c()!==o&&Ic()!==o&&(t=va())!==o&&Ic()!==o&&Tc()!==o?(r,r=t):(No=r,r=o),r}function ou(){var t,e;return t=No,"if"===r.substr(No,2).toLowerCase()?(e=r.substr(No,2),No+=2):(e=o,0===ko&&Do(m)),e!==o&&Ic()!==o&&Zi()!==o&&Ic()!==o&&zi()!==o?(t,t=e="IF NOT EXISTS"):(No=t,t=o),t}function uu(){var t,e,n,s;return t=No,"algorithm"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do(T)),e!==o&&Ic()!==o?((n=gu())===o&&(n=null),n!==o&&Ic()!==o?("default"===r.substr(No,7).toLowerCase()?(s=r.substr(No,7),No+=7):(s=o,0===ko&&Do(g)),s===o&&("instant"===r.substr(No,7).toLowerCase()?(s=r.substr(No,7),No+=7):(s=o,0===ko&&Do(j)),s===o&&("inplace"===r.substr(No,7).toLowerCase()?(s=r.substr(No,7),No+=7):(s=o,0===ko&&Do(x)),s===o&&("copy"===r.substr(No,4).toLowerCase()?(s=r.substr(No,4),No+=4):(s=o,0===ko&&Do(N))))),s!==o?(t,t=e={type:"alter",keyword:"algorithm",resource:"algorithm",symbol:n,algorithm:s}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t}function au(){var t,e,n,s;return t=No,"lock"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(S)),e!==o&&Ic()!==o?((n=gu())===o&&(n=null),n!==o&&Ic()!==o?("default"===r.substr(No,7).toLowerCase()?(s=r.substr(No,7),No+=7):(s=o,0===ko&&Do(g)),s===o&&("none"===r.substr(No,4).toLowerCase()?(s=r.substr(No,4),No+=4):(s=o,0===ko&&Do(R)),s===o&&("shared"===r.substr(No,6).toLowerCase()?(s=r.substr(No,6),No+=6):(s=o,0===ko&&Do(I)),s===o&&("exclusive"===r.substr(No,9).toLowerCase()?(s=r.substr(No,9),No+=9):(s=o,0===ko&&Do(k))))),s!==o?(t,t=e={type:"alter",keyword:"lock",resource:"lock",symbol:n,lock:s}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t}function iu(){var t;return(t=lu())===o&&(t=function(){var r,t,e,n,s,u;r=No,(t=wc())===o&&(t=Lc());t!==o&&Ic()!==o?((e=qa())===o&&(e=null),e!==o&&Ic()!==o?((n=wu())===o&&(n=null),n!==o&&Ic()!==o&&(s=Lu())!==o&&Ic()!==o?((u=Cu())===o&&(u=null),u!==o&&Ic()!==o?(r,a=n,i=u,t={index:e,definition:s,keyword:t.toLowerCase(),index_type:a,resource:"index",index_options:i},r=t):(No=r,r=o)):(No=r,r=o)):(No=r,r=o)):(No=r,r=o);var a,i;return r}())===o&&(t=function(){var t,e,n,s,u,a;t=No,(e=function(){var t,e,n,s;t=No,"fulltext"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(io));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="FULLTEXT"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(e=function(){var t,e,n,s;t=No,"spatial"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(rt));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}());e!==o&&Ic()!==o?((n=wc())===o&&(n=Lc()),n===o&&(n=null),n!==o&&Ic()!==o?((s=qa())===o&&(s=null),s!==o&&Ic()!==o&&(u=Lu())!==o&&Ic()!==o?((a=Cu())===o&&(a=null),a!==o&&Ic()!==o?(t,i=e,l=a,e={index:s,definition:u,keyword:(c=n)&&`${i.toLowerCase()} ${c.toLowerCase()}`||i.toLowerCase(),index_options:l,resource:"index"},t=e):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o);var i,c,l;return t}()),t}function cu(){var t,e,n,s;return t=No,(e=function(){var t,e;t=No,(e=function(){var t,e,n,s;t=No,"not null"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(An));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&(t,e={type:"not null",value:"not null"});return t=e}())===o&&(e=ii()),e!==o&&(t,(s=e)&&!s.value&&(s.value="null"),e={nullable:s}),(t=e)===o&&(t=No,(e=function(){var r,t;r=No,mi()!==o&&Ic()!==o?((t=ui())===o&&(t=ya()),t!==o?(r,r={type:"default",value:t}):(No=r,r=o)):(No=r,r=o);return r}())!==o&&(t,e={default_val:e}),(t=e)===o&&(t=No,"auto_increment"===r.substr(No,14).toLowerCase()?(e=r.substr(No,14),No+=14):(e=o,0===ko&&Do(O)),e!==o&&(t,e={auto_increment:e.toLowerCase()}),(t=e)===o&&(t=No,"unique"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do($)),e!==o&&Ic()!==o?("key"===r.substr(No,3).toLowerCase()?(n=r.substr(No,3),No+=3):(n=o,0===ko&&Do(U)),n===o&&(n=null),n!==o?(t,t=e=function(r){const t=["unique"];return r&&t.push(r),{unique:t.join(" ").toLowerCase("")}}(n)):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,"primary"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(M)),e===o&&(e=null),e!==o&&Ic()!==o?("key"===r.substr(No,3).toLowerCase()?(n=r.substr(No,3),No+=3):(n=o,0===ko&&Do(U)),n!==o?(t,t=e=function(r){const t=[];return r&&t.push("primary"),t.push("key"),{primary_key:t.join(" ").toLowerCase("")}}(e)):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,(e=pu())!==o&&(t,e={comment:e}),(t=e)===o&&(t=No,(e=function(){var t,e,n;t=No,function(){var t,e,n,s;t=No,"collate"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(yr));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="COLLATE"):(No=t,t=o)):(No=t,t=o);return t}()!==o&&Ic()!==o?((e=gu())===o&&(e=null),e!==o&&Ic()!==o&&(n=Xa())!==o?(t,t={type:"collate",symbol:e,value:n}):(No=t,t=o)):(No=t,t=o);return t}())!==o&&(t,e={collate:e}),(t=e)===o&&(t=No,(e=function(){var t,e,n;t=No,"column_format"===r.substr(No,13).toLowerCase()?(e=r.substr(No,13),No+=13):(e=o,0===ko&&Do(P));e!==o&&Ic()!==o?("fixed"===r.substr(No,5).toLowerCase()?(n=r.substr(No,5),No+=5):(n=o,0===ko&&Do(F)),n===o&&("dynamic"===r.substr(No,7).toLowerCase()?(n=r.substr(No,7),No+=7):(n=o,0===ko&&Do(H)),n===o&&("default"===r.substr(No,7).toLowerCase()?(n=r.substr(No,7),No+=7):(n=o,0===ko&&Do(g)))),n!==o?(t,e={type:"column_format",value:n.toLowerCase()},t=e):(No=t,t=o)):(No=t,t=o);return t}())!==o&&(t,e={column_format:e}),(t=e)===o&&(t=No,(e=function(){var t,e,n;t=No,"storage"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(W));e!==o&&Ic()!==o?("disk"===r.substr(No,4).toLowerCase()?(n=r.substr(No,4),No+=4):(n=o,0===ko&&Do(Y)),n===o&&("memory"===r.substr(No,6).toLowerCase()?(n=r.substr(No,6),No+=6):(n=o,0===ko&&Do(G))),n!==o?(t,e={type:"storage",value:n.toLowerCase()},t=e):(No=t,t=o)):(No=t,t=o);return t}())!==o&&(t,e={storage:e}),(t=e)===o&&(t=No,(e=bu())!==o&&(t,e={reference_definition:e}),t=e))))))))),t}function lu(){var r,t,e,n,s,u,a;return r=No,(t=Fa())!==o&&Ic()!==o&&(e=Fc())!==o&&Ic()!==o?((n=function(){var r,t,e,n,s,u;if(r=No,(t=cu())!==o)if(Ic()!==o){for(e=[],n=No,(s=Ic())!==o&&(u=cu())!==o?n=s=[s,u]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=cu())!==o?n=s=[s,u]:(No=n,n=o);e!==o?(r,r=t=function(r,t){let e=r;for(let r=0;r<t.length;r++)e={...e,...t[r][1]};return e}(t,e)):(No=r,r=o)}else No=r,r=o;else No=r,r=o;return r}())===o&&(n=null),n!==o?(r,s=t,u=e,a=n,rl.add(`create::${s.table}::${s.column}`),r=t={column:s,definition:u,resource:"column",...a||{}}):(No=r,r=o)):(No=r,r=o),r}function fu(){var t,e,n,s,u;return t=No,(e=Zu())!==o&&Ic()!==o&&(n=function(){var t,e,n;t=No,"read"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(wr));e!==o&&Ic()!==o?("local"===r.substr(No,5).toLowerCase()?(n=r.substr(No,5),No+=5):(n=o,0===ko&&Do(Lr)),n===o&&(n=null),n!==o?(t,t=e={type:"read",suffix:n&&"local"}):(No=t,t=o)):(No=t,t=o);t===o&&(t=No,"low_priority"===r.substr(No,12).toLowerCase()?(e=r.substr(No,12),No+=12):(e=o,0===ko&&Do(Cr)),e===o&&(e=null),e!==o&&Ic()!==o?("write"===r.substr(No,5).toLowerCase()?(n=r.substr(No,5),No+=5):(n=o,0===ko&&Do(mr)),n!==o?(t,t=e={type:"write",prefix:e&&"low_priority"}):(No=t,t=o)):(No=t,t=o));return t}())!==o?(t,s=e,u=n,Jc.add(`lock::${s.db}::${s.table}`),t=e={table:s,lock_type:u}):(No=t,t=o),t}function pu(){var r,t,e,n,s,u,a;return r=No,(t=Cc())!==o&&Ic()!==o?((e=gu())===o&&(e=null),e!==o&&Ic()!==o&&(n=ci())!==o?(r,u=e,a=n,r=t={type:(s=t).toLowerCase(),keyword:s.toLowerCase(),symbol:u,value:a}):(No=r,r=o)):(No=r,r=o),r}function bu(){var t,e,n,s,u,a,i,c,l,f;return t=No,(e=function(){var t,e,n,s;t=No,"references"===r.substr(No,10).toLowerCase()?(e=r.substr(No,10),No+=10):(e=o,0===ko&&Do(lo));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="REFERENCES"):(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o&&(n=Ku())!==o&&Ic()!==o&&(s=Lu())!==o&&Ic()!==o?("match full"===r.substr(No,10).toLowerCase()?(u=r.substr(No,10),No+=10):(u=o,0===ko&&Do(B)),u===o&&("match partial"===r.substr(No,13).toLowerCase()?(u=r.substr(No,13),No+=13):(u=o,0===ko&&Do(q)),u===o&&("match simple"===r.substr(No,12).toLowerCase()?(u=r.substr(No,12),No+=12):(u=o,0===ko&&Do(V)))),u===o&&(u=null),u!==o&&Ic()!==o?((a=Eu())===o&&(a=null),a!==o&&Ic()!==o?((i=Eu())===o&&(i=null),i!==o?(t,c=u,l=a,f=i,t=e={definition:s,table:n,keyword:e.toLowerCase(),match:c&&c.toLowerCase(),on_action:[l,f].filter(r=>r)}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,(e=Eu())!==o&&(t,e={on_action:[e]}),t=e),t}function du(){var t,e,n,s;return t=No,"expiration_timestamp"===r.substr(No,20).toLowerCase()?(e=r.substr(No,20),No+=20):(e=o,0===ko&&Do(X)),e===o&&("partition_expiration_days"===r.substr(No,25).toLowerCase()?(e=r.substr(No,25),No+=25):(e=o,0===ko&&Do(K)),e===o&&("require_partition_filter"===r.substr(No,24).toLowerCase()?(e=r.substr(No,24),No+=24):(e=o,0===ko&&Do(Q)),e===o&&("kms_key_name"===r.substr(No,12).toLowerCase()?(e=r.substr(No,12),No+=12):(e=o,0===ko&&Do(z)),e===o&&("friendly_name"===r.substr(No,13).toLowerCase()?(e=r.substr(No,13),No+=13):(e=o,0===ko&&Do(Z)),e===o&&("description"===r.substr(No,11).toLowerCase()?(e=r.substr(No,11),No+=11):(e=o,0===ko&&Do(J)),e===o&&("labels"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(rr)),e===o&&("default_rounding_mode"===r.substr(No,21).toLowerCase()?(e=r.substr(No,21),No+=21):(e=o,0===ko&&Do(tr))))))))),e!==o&&Ic()!==o?((n=gu())===o&&(n=null),n!==o&&Ic()!==o&&(s=ya())!==o?(t,t=e={keyword:e,symbol:"=",value:s}):(No=t,t=o)):(No=t,t=o),t}function vu(){var t,e,n,s,u,a,i,c,l;return t=No,"auto_increment"===r.substr(No,14).toLowerCase()?(e=r.substr(No,14),No+=14):(e=o,0===ko&&Do(O)),e===o&&("avg_row_length"===r.substr(No,14).toLowerCase()?(e=r.substr(No,14),No+=14):(e=o,0===ko&&Do(er)),e===o&&("key_block_size"===r.substr(No,14).toLowerCase()?(e=r.substr(No,14),No+=14):(e=o,0===ko&&Do(nr)),e===o&&("max_rows"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(sr)),e===o&&("min_rows"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(or)),e===o&&("stats_sample_pages"===r.substr(No,18).toLowerCase()?(e=r.substr(No,18),No+=18):(e=o,0===ko&&Do(ur))))))),e!==o&&Ic()!==o?((n=gu())===o&&(n=null),n!==o&&Ic()!==o&&(s=bi())!==o?(t,c=n,l=s,t=e={keyword:e.toLowerCase(),symbol:c,value:l.value}):(No=t,t=o)):(No=t,t=o),t===o&&(t=hu())===o&&(t=No,(e=Cc())===o&&("connection"===r.substr(No,10).toLowerCase()?(e=r.substr(No,10),No+=10):(e=o,0===ko&&Do(ar))),e!==o&&Ic()!==o?((n=gu())===o&&(n=null),n!==o&&Ic()!==o&&(s=ci())!==o?(t,t=e=function(r,t,e){return{keyword:r.toLowerCase(),symbol:t,value:`'${e.value}'`}}(e,n,s)):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,"compression"===r.substr(No,11).toLowerCase()?(e=r.substr(No,11),No+=11):(e=o,0===ko&&Do(ir)),e!==o&&Ic()!==o?((n=gu())===o&&(n=null),n!==o&&Ic()!==o?(s=No,39===r.charCodeAt(No)?(u="'",No++):(u=o,0===ko&&Do(cr)),u!==o?("zlib"===r.substr(No,4).toLowerCase()?(a=r.substr(No,4),No+=4):(a=o,0===ko&&Do(lr)),a===o&&("lz4"===r.substr(No,3).toLowerCase()?(a=r.substr(No,3),No+=3):(a=o,0===ko&&Do(fr)),a===o&&("none"===r.substr(No,4).toLowerCase()?(a=r.substr(No,4),No+=4):(a=o,0===ko&&Do(R)))),a!==o?(39===r.charCodeAt(No)?(i="'",No++):(i=o,0===ko&&Do(cr)),i!==o?s=u=[u,a,i]:(No=s,s=o)):(No=s,s=o)):(No=s,s=o),s!==o?(t,t=e=function(r,t,e){return{keyword:r.toLowerCase(),symbol:t,value:e.join("").toUpperCase()}}(e,n,s)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,"engine"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(pr)),e!==o&&Ic()!==o?((n=gu())===o&&(n=null),n!==o&&Ic()!==o&&(s=Xa())!==o?(t,t=e=function(r,t,e){return{keyword:r.toLowerCase(),symbol:t,value:e.toUpperCase()}}(e,n,s)):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,(e=_i())!==o&&Ic()!==o&&(n=Di())!==o&&Ic()!==o&&(s=ya())!==o?(t,t=e=function(r){return{keyword:"partition by",value:r}}(s)):(No=t,t=o),t===o&&(t=No,"cluster"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(br)),e!==o&&Ic()!==o?("by"===r.substr(No,2).toLowerCase()?(n=r.substr(No,2),No+=2):(n=o,0===ko&&Do(dr)),n!==o&&Ic()!==o&&(s=Ha())!==o?(t,t=e={keyword:"cluster by",value:s}):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,"options"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(vr)),e!==o&&Ic()!==o&&(n=_c())!==o&&Ic()!==o&&(s=function(){var r,t,e,n,s,u,a,i;if(r=No,(t=du())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=du())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=du())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,r=t=E(t,e)):(No=r,r=o)}else No=r,r=o;return r}())!==o&&(u=Ic())!==o&&(a=Tc())!==o?(t,t=e=function(r){return{keyword:"options",parentheses:!0,value:r}}(s)):(No=t,t=o))))))),t}function hu(){var t,e,n,s,u,a,i,c,l;return t=No,(e=mi())===o&&(e=null),e!==o&&Ic()!==o?((n=function(){var t,e,n;t=No,"character"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do(y));e!==o&&Ic()!==o?("set"===r.substr(No,3).toLowerCase()?(n=r.substr(No,3),No+=3):(n=o,0===ko&&Do(w)),n!==o?(t,t=e="CHARACTER SET"):(No=t,t=o)):(No=t,t=o);return t}())===o&&("charset"===r.substr(No,7).toLowerCase()?(n=r.substr(No,7),No+=7):(n=o,0===ko&&Do(hr)),n===o&&("collate"===r.substr(No,7).toLowerCase()?(n=r.substr(No,7),No+=7):(n=o,0===ko&&Do(yr)))),n!==o&&Ic()!==o?((s=gu())===o&&(s=null),s!==o&&Ic()!==o&&(u=ci())!==o?(t,i=n,c=s,l=u,t=e={keyword:(a=e)&&`${a[0].toLowerCase()} ${i.toLowerCase()}`||i.toLowerCase(),symbol:c,value:l}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t}function yu(){var t;return(t=function(){var t,e,n,s;t=No,(e=function(){var t,e,n,s;t=No,"add"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(oo));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="ADD"):(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o?((n=yc())===o&&(n=null),n!==o&&Ic()!==o&&(s=lu())!==o?(t,u=n,a=s,e={action:"add",...a,keyword:u,resource:"column",type:"alter"},t=e):(No=t,t=o)):(No=t,t=o);var u,a;return t}())===o&&(t=function(){var r,t,e;r=No,Ai()!==o&&Ic()!==o?((t=yc())===o&&(t=null),t!==o&&Ic()!==o&&(e=Fa())!==o?(r,r={action:"drop",column:e,keyword:t,resource:"column",type:"alter"}):(No=r,r=o)):(No=r,r=o);return r}())===o&&(t=function(){var r,t,e,n;r=No,(t=Nu())!==o&&Ic()!==o?((e=Ei())===o&&(e=xi()),e===o&&(e=null),e!==o&&Ic()!==o&&(n=Wa())!==o?(r,u=n,t={action:"rename",type:"alter",resource:"table",keyword:(s=e)&&s[0].toLowerCase(),table:u},r=t):(No=r,r=o)):(No=r,r=o);var s,u;return r}()),t}function wu(){var t,e;return t=No,Ui()!==o&&Ic()!==o?("btree"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Ar)),e===o&&("hash"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(_r))),e!==o?(t,t={keyword:"using",type:e.toLowerCase()}):(No=t,t=o)):(No=t,t=o),t}function Lu(){var r,t,e,n,s,u,a,i;if(r=No,_c()!==o)if(Ic()!==o)if((t=qa())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=qa())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=qa())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o&&(n=Ic())!==o&&(s=Tc())!==o?(r,r=c(t,e)):(No=r,r=o)}else No=r,r=o;else No=r,r=o;else No=r,r=o;return r}function Cu(){var r,t,e,n,s,u;if(r=No,(t=mu())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=mu())!==o?n=s=[s,u]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=mu())!==o?n=s=[s,u]:(No=n,n=o);e!==o?(r,r=t=function(r,t){const e=[r];for(let r=0;r<t.length;r++)e.push(t[r][1]);return e}(t,e)):(No=r,r=o)}else No=r,r=o;return r}function mu(){var t,e,n,s,u,a;return t=No,(e=function(){var t,e,n,s;t=No,"key_block_size"===r.substr(No,14).toLowerCase()?(e=r.substr(No,14),No+=14):(e=o,0===ko&&Do(nr));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o?((n=gu())===o&&(n=null),n!==o&&Ic()!==o&&(s=bi())!==o?(t,u=n,a=s,t=e={type:e.toLowerCase(),symbol:u,expr:a}):(No=t,t=o)):(No=t,t=o),t===o&&(t=wu())===o&&(t=No,"with"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Tr)),e!==o&&Ic()!==o?("parser"===r.substr(No,6).toLowerCase()?(n=r.substr(No,6),No+=6):(n=o,0===ko&&Do(gr)),n!==o&&Ic()!==o&&(s=Xa())!==o?(t,t=e={type:"with parser",expr:s}):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,"visible"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(jr)),e===o&&("invisible"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do(xr))),e!==o&&(t,e=function(r){return{type:r.toLowerCase(),expr:r.toLowerCase()}}(e)),(t=e)===o&&(t=pu()))),t}function Eu(){var t,e,n,s;return t=No,Ri()!==o&&Ic()!==o?((e=Tu())===o&&(e=Au()),e!==o&&Ic()!==o&&(n=function(){var t,e,n;t=No,(e=hc())!==o&&Ic()!==o&&_c()!==o&&Ic()!==o?((n=va())===o&&(n=null),n!==o&&Ic()!==o&&Tc()!==o?(t,t=e={type:"function",name:e,args:n}):(No=t,t=o)):(No=t,t=o);t===o&&(t=No,"restrict"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(Nr)),e===o&&("cascade"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(Sr)),e===o&&("set null"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(Rr)),e===o&&("no action"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do(Ir)),e===o&&("set default"===r.substr(No,11).toLowerCase()?(e=r.substr(No,11),No+=11):(e=o,0===ko&&Do(kr)),e===o&&(e=hc()))))),e!==o&&(t,e={type:"origin",value:e.toLowerCase()}),t=e);return t}())!==o?(t,s=n,t={type:"on "+e[0].toLowerCase(),value:s}):(No=t,t=o)):(No=t,t=o),t}function Au(){var t,e,n,s;return t=No,"update"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Or)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function _u(){var t,e,n,s;return t=No,"create"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do($r)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Tu(){var t,e,n,s;return t=No,"delete"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Ur)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function gu(){var t;return 61===r.charCodeAt(No)?(t="=",No++):(t=o,0===ko&&Do(l)),t}function ju(){var t,e,n,s;return t=No,"replace"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(Fr)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function xu(){var t,e,n,s;return t=No,"database"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(Yr)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Nu(){var t,e,n,s;return t=No,"rename"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Gr)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Su(){var t,e,n,s;return t=No,"show"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Br)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Ru(){var t;return 64===r.charCodeAt(No)?(t="@",No++):(t=o,0===ko&&Do(Vr)),t}function Iu(){var t,e,n,s;return t=No,"temporary"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do(Qr)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function ku(){var t,e,n,s;return t=No,(e=function(){var t,e,n,s;t=No,"union"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(qn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o?((n=Bi())===o&&(n=qi()),n===o&&(n=null),n!==o?(t,t=e=(s=n)?"union "+s.toLowerCase():"union"):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,"intersect"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do(nt)),e===o&&("except"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(st))),e!==o&&Ic()!==o&&(n=qi())!==o?(t,t=e=function(r,t){return`${r.toLowerCase()} ${t.toLowerCase()}`}(e,n)):(No=t,t=o)),t}function Ou(){var t,e,n,s,u,a,i;return(t=$u())===o&&(t=No,e=No,40===r.charCodeAt(No)?(n="(",No++):(n=o,0===ko&&Do(tt)),n!==o&&(s=Ic())!==o&&(u=$u())!==o&&(a=Ic())!==o?(41===r.charCodeAt(No)?(i=")",No++):(i=o,0===ko&&Do(et)),i!==o?e=n=[n,s,u,a,i]:(No=e,e=o)):(No=e,e=o),e!==o&&(t,e={...e[2],_parentheses:!0}),t=e),t}function $u(){var r,t,e,n,s,u,a,i;if(r=No,(t=Uu())!==o){for(e=[],n=No,(s=Ic())!==o?((u=ku())===o&&(u=null),u!==o&&(a=Ic())!==o&&(i=Uu())!==o?n=s=[s,u,a,i]:(No=n,n=o)):(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o?((u=ku())===o&&(u=null),u!==o&&(a=Ic())!==o&&(i=Uu())!==o?n=s=[s,u,a,i]:(No=n,n=o)):(No=n,n=o);e!==o&&(n=Ic())!==o?((s=fa())===o&&(s=null),s!==o&&(u=Ic())!==o?((a=da())===o&&(a=null),a!==o?(r,r=t=function(r,t,e,n){let s=r;for(let r=0;r<t.length;r++)s._next=t[r][3],s.set_op=t[r][1],s=s._next;return{tableList:Array.from(Jc),columnList:zc(rl),ast:r}}(t,e)):(No=r,r=o)):(No=r,r=o)):(No=r,r=o)}else No=r,r=o;return r}function Uu(){var t,e,n,s,u,a,i;return(t=Du())===o&&(t=No,e=No,40===r.charCodeAt(No)?(n="(",No++):(n=o,0===ko&&Do(tt)),n!==o&&(s=Ic())!==o&&(u=Uu())!==o&&(a=Ic())!==o?(41===r.charCodeAt(No)?(i=")",No++):(i=o,0===ko&&Do(et)),i!==o?e=n=[n,s,u,a,i]:(No=e,e=o)):(No=e,e=o),e!==o&&(t,e={...e[2],parentheses_symbol:!0}),t=e),t}function Mu(){var r,t,e,n;return r=No,(t=ci())===o&&(t=Xa()),t!==o&&Ic()!==o&&xi()!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(e=Ou())!==o&&Ic()!==o&&Tc()!==o?(r,"string"==typeof(n=t)&&(n={type:"default",value:n}),r=t={name:n,stmt:e}):(No=r,r=o),r}function Du(){var t,e,n,s,u,a,i,l,f,p,b,d,v,h,y,w,L,C,m,E,A,_,T,g,j,x,N;return t=No,Ic()!==o?((e=function(){var r,t,e,n,s,u,a,i;if(r=No,Mi()!==o)if(Ic()!==o)if((t=Mu())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=Mu())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=Mu())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,r=c(t,e)):(No=r,r=o)}else No=r,r=o;else No=r,r=o;else No=r,r=o;return r}())===o&&(e=null),e!==o&&Ic()!==o&&function(){var t,e,n,s;t=No,"select"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Nn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}()!==o&&kc()!==o?((n=function(){var t,e,n;t=No,(e=xi())!==o&&Ic()!==o?((n=cc())===o&&(n=function(){var t,e,n,s;t=No,"value"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Vn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="VALUE"):(No=t,t=o)):(No=t,t=o);return t}()),n!==o?(t,s=n,e=`${e[0].toLowerCase()} ${s.toLowerCase()}`,t=e):(No=t,t=o)):(No=t,t=o);var s;return t}())===o&&(n=null),n!==o&&Ic()!==o?((s=Bi())===o&&(s=qi()),s===o&&(s=null),s!==o&&Ic()!==o&&(u=Fu())!==o&&Ic()!==o?((a=Vu())===o&&(a=null),a!==o&&Ic()!==o?((i=function(){var t,e,n,s,u,a;t=No,"for"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(D));e!==o&&Ic()!==o?("system_time"===r.substr(No,11).toLowerCase()?(n=r.substr(No,11),No+=11):(n=o,0===ko&&Do(ot)),n!==o&&Ic()!==o?("as"===r.substr(No,2).toLowerCase()?(s=r.substr(No,2),No+=2):(s=o,0===ko&&Do(ut)),s!==o&&Ic()!==o?("of"===r.substr(No,2).toLowerCase()?(u=r.substr(No,2),No+=2):(u=o,0===ko&&Do(at)),u!==o&&Ic()!==o&&(a=ya())!==o?(t,t=e={keyword:"for system_time as of",expr:a}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o);return t}())===o&&(i=null),i!==o&&Ic()!==o?((l=na())===o&&(l=null),l!==o&&Ic()!==o?((f=function(){var t,e,n;t=No,(e=function(){var t,e,n,s;t=No,"group"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(zn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o&&Di()!==o&&Ic()!==o&&(n=va())!==o?(t,e=n.value,t=e):(No=t,t=o);return t}())===o&&(f=null),f!==o&&Ic()!==o?((p=function(){var r,t;r=No,Pi()!==o&&Ic()!==o&&(t=Aa())!==o?(r,r=t):(No=r,r=o);return r}())===o&&(p=null),p!==o&&Ic()!==o?((b=function(){var t,e;t=No,function(){var t,e,n,s;t=No,"qualify"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(rs));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}()!==o&&Ic()!==o&&(e=ya())!==o?(t,t=e):(No=t,t=o);return t}())===o&&(b=null),b!==o&&Ic()!==o?((d=fa())===o&&(d=null),d!==o&&Ic()!==o?((v=da())===o&&(v=null),v!==o&&Ic()!==o?((h=function(){var t,e;t=No,function(){var t,e,n,s;t=No,"window"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(ts));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}()!==o&&Ic()!==o&&(e=function(){var r,t,e,n,s,u,a,i;if(r=No,(t=sa())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=sa())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=sa())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,t=c(t,e),r=t):(No=r,r=o)}else No=r,r=o;return r}())!==o?(t,t={keyword:"window",type:"window",expr:e}):(No=t,t=o);return t}())===o&&(h=null),h!==o?(t,y=e,w=n,L=s,C=u,m=a,E=i,A=l,_=f,T=p,g=b,j=d,x=v,N=h,Array.isArray(m)&&m.forEach(r=>r.table&&Jc.add(`select::${r.db}::${r.table}`)),t={type:"select",as_struct_val:w,distinct:L,columns:C,from:m,for_sys_time_as_of:E,where:A,with:y,groupby:_,having:T,qualify:g,orderby:j,limit:x,window:N}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t}function Pu(){var r,t,e;return r=No,(t=function(){var r,t,e,n,s,u,a,i;if(r=No,(t=ya())!==o){for(e=[],n=No,(s=Ic())!==o?((u=Ji())===o&&(u=rc())===o&&(u=Rc()),u!==o&&(a=Ic())!==o&&(i=ya())!==o?n=s=[s,u,a,i]:(No=n,n=o)):(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o?((u=Ji())===o&&(u=rc())===o&&(u=Rc()),u!==o&&(a=Ic())!==o&&(i=ya())!==o?n=s=[s,u,a,i]:(No=n,n=o)):(No=n,n=o);e!==o?(r,t=function(r,t){const e=r.ast;if(e&&"select"===e.type&&(!(r.parentheses_symbol||r.parentheses||r.ast.parentheses||r.ast.parentheses_symbol)||1!==e.columns.length||"*"===e.columns[0].expr.column))throw new Error("invalid column clause with select statement");if(!t||0===t.length)return r;const n=t.length;let s=t[n-1][3];for(let e=n-1;e>=0;e--){const n=0===e?r:t[e-1][3];s=qc(t[e][1],n,s)}return s}(t,e),r=t):(No=r,r=o)}else No=r,r=o;return r}())!==o&&Ic()!==o?((e=Bu())===o&&(e=null),e!==o?(r,r=t={expr:t,as:e}):(No=r,r=o)):(No=r,r=o),r}function Fu(){var r,t,e;return r=No,(t=Hu())!==o&&Ic()!==o?((e=Ec())===o&&(e=null),e!==o?(r,r=t=t):(No=r,r=o)):(No=r,r=o),r}function Hu(){var r,t,e,n,s,u,a,i;if(r=No,(t=Gu())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=Gu())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=Gu())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,r=t=c(t,e)):(No=r,r=o)}else No=r,r=o;return r}function Wu(){var r,t,e,n,s,u,a,i,c,l,f,p,b,d;if(r=No,t=[],e=No,(n=xc())!==o&&(s=Ic())!==o?((u=bi())===o&&(u=ci()),u!==o&&(a=Ic())!==o&&(i=Nc())!==o?e=n=[n,s,u,a,i]:(No=e,e=o)):(No=e,e=o),e!==o)for(;e!==o;)t.push(e),e=No,(n=xc())!==o&&(s=Ic())!==o?((u=bi())===o&&(u=ci()),u!==o&&(a=Ic())!==o&&(i=Nc())!==o?e=n=[n,s,u,a,i]:(No=e,e=o)):(No=e,e=o);else t=o;if(t!==o&&(r,t=t.map(r=>({value:r[2]}))),(r=t)===o){if(r=No,t=[],e=No,(n=xc())!==o&&(s=Ic())!==o?((u=Wi())===o&&(u=Fi())===o&&(u=Yi())===o&&(u=Hi()),u!==o&&(a=Ic())!==o&&(i=_c())!==o&&(c=Ic())!==o?((l=bi())===o&&(l=ci()),l!==o&&(f=Ic())!==o&&(p=Tc())!==o&&(b=Ic())!==o&&(d=Nc())!==o?e=n=[n,s,u,a,i,c,l,f,p,b,d]:(No=e,e=o)):(No=e,e=o)):(No=e,e=o),e!==o)for(;e!==o;)t.push(e),e=No,(n=xc())!==o&&(s=Ic())!==o?((u=Wi())===o&&(u=Fi())===o&&(u=Yi())===o&&(u=Hi()),u!==o&&(a=Ic())!==o&&(i=_c())!==o&&(c=Ic())!==o?((l=bi())===o&&(l=ci()),l!==o&&(f=Ic())!==o&&(p=Tc())!==o&&(b=Ic())!==o&&(d=Nc())!==o?e=n=[n,s,u,a,i,c,l,f,p,b,d]:(No=e,e=o)):(No=e,e=o)):(No=e,e=o);else t=o;t!==o&&(r,t=function(r){return r.map(r=>({name:r[2],value:r[6]}))}(t)),r=t}return r}function Yu(){var r,t,e;return r=No,(t=ya())!==o&&Ic()!==o&&(e=Wu())!==o?(r,r=t={expr:t,offset:e}):(No=r,r=o),r}function Gu(){var t,e,n,s,u,a,i,c,l,f,p,b;return t=No,e=No,(n=Ga())!==o&&(s=Ic())!==o&&(u=mc())!==o?e=n=[n,s,u]:(No=e,e=o),e===o&&(e=null),e!==o&&(n=Ac())!==o&&(s=Ic())!==o?("except"===r.substr(No,6).toLowerCase()?(u=r.substr(No,6),No+=6):(u=o,0===ko&&Do(st)),u===o&&("replace"===r.substr(No,7).toLowerCase()?(u=r.substr(No,7),No+=7):(u=o,0===ko&&Do(Fr))),u!==o&&(a=Ic())!==o&&(i=_c())!==o&&(c=Ic())!==o&&(l=Hu())!==o&&Ic()!==o&&Tc()!==o?(t,t=e=function(r,t,e){const n=r&&r[0];return rl.add(`select::${n}::(.*)`),{expr_list:e,parentheses:!0,expr:{type:"column_ref",table:n,column:"*"},type:t.toLowerCase()}}(e,u,l)):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,(e=Bi())===o&&(e=No,(n=Ac())!==o?(s=No,ko++,u=Ka(),ko--,u===o?s=void 0:(No=s,s=o),s!==o?e=n=[n,s]:(No=e,e=o)):(No=e,e=o),e===o&&(e=Ac())),e!==o&&(t,e=function(r){rl.add("select::null::(.*)");return{expr:{type:"column_ref",table:null,column:"*"},as:null}}()),(t=e)===o&&(t=No,(e=Ga())!==o&&(n=Ic())!==o&&(s=mc())!==o?(u=No,(a=Yu())===o&&(a=Ga()),a!==o&&(i=Ic())!==o&&(c=mc())!==o?u=a=[a,i,c]:(No=u,u=o),u===o&&(u=null),u!==o&&(a=Ic())!==o&&(i=Ac())!==o?(t,t=e=function(r,t){rl.add(`select::${r}::(.*)`);let e="*";const n=t&&t[0];return"string"==typeof n&&(e=n+".*"),n&&n.expr&&n.offset&&(e={...n,suffix:".*"}),{expr:{type:"column_ref",table:r,column:e},as:null}}(e,u)):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,(e=Yu())!==o&&(n=Ic())!==o?(s=No,(u=mc())!==o&&(a=Ic())!==o&&(i=Ga())!==o?s=u=[u,a,i]:(No=s,s=o),s===o&&(s=null),s!==o&&(u=Ic())!==o?((a=Bu())===o&&(a=null),a!==o?(t,f=e,b=a,(p=s)&&(f.suffix="."+p[2]),t=e={expr:{type:"column_ref",table:null,column:f},as:b}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t===o&&(t=Pu())))),t}function Bu(){var r,t,e;return r=No,(t=xi())!==o&&Ic()!==o&&(e=function(){var r,t;r=No,(t=Xa())!==o?(No,(function(r){if(!0===Yc[r.toUpperCase()])throw new Error("Error: "+JSON.stringify(r)+" is a reserved word, can not as alias clause");return!1}(t)?o:void 0)!==o?(r,r=t=t):(No=r,r=o)):(No=r,r=o);r===o&&(r=No,(t=Ya())!==o&&(r,t=t),r=t);return r}())!==o?(r,r=t=e):(No=r,r=o),r===o&&(r=No,(t=xi())===o&&(t=null),t!==o&&Ic()!==o&&(e=Wa())!==o?(r,r=t=e):(No=r,r=o)),r}function qu(){var t,e,n,s,u;return t=No,"unnest"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(it)),e!==o&&Ic()!==o&&_c()!==o&&Ic()!==o?((n=ya())===o&&(n=null),n!==o&&Ic()!==o&&Tc()!==o&&Ic()!==o?((s=Bu())===o&&(s=null),s!==o&&Ic()!==o?((u=function(){var r,t;r=No,Mi()!==o&&Ic()!==o&&Wi()!==o&&Ic()!==o?((t=Bu())===o&&(t=null),t!==o?(r,r={keyword:"with offset as",as:t}):(No=r,r=o)):(No=r,r=o);return r}())===o&&(u=null),u!==o?(t,t=e={type:"unnest",expr:n,parentheses:!0,as:s,with_offset:u}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t}function Vu(){var t,e,n,s,u;return t=No,gi()!==o&&Ic()!==o&&(e=Ku())!==o&&Ic()!==o?((n=function(){var t,e,n,s,u,a;t=No,function(){var t,e,n,s;t=No,"pivot"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(eo));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="PIVOT"):(No=t,t=o)):(No=t,t=o);return t}()!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(e=function(){var r,t,e,n,s,u,a,i,c,l,f;if(r=No,(t=Ja())!==o)if(Ic()!==o)if((e=Bu())===o&&(e=null),e!==o){for(n=[],s=No,(u=Ic())!==o&&(a=Ec())!==o&&(i=Ic())!==o&&(c=Ja())!==o&&(l=Ic())!==o?((f=Bu())===o&&(f=null),f!==o?s=u=[u,a,i,c,l,f]:(No=s,s=o)):(No=s,s=o);s!==o;)n.push(s),s=No,(u=Ic())!==o&&(a=Ec())!==o&&(i=Ic())!==o&&(c=Ja())!==o&&(l=Ic())!==o?((f=Bu())===o&&(f=null),f!==o?s=u=[u,a,i,c,l,f]:(No=s,s=o)):(No=s,s=o);n!==o?(r,t=function(r,t,e){const n={type:"expr_list"};return n.value=Xc(r,e),n}(t,0,n),r=t):(No=r,r=o)}else No=r,r=o;else No=r,r=o;else No=r,r=o;return r}())!==o&&Ic()!==o?("for"===r.substr(No,3).toLowerCase()?(n=r.substr(No,3),No+=3):(n=o,0===ko&&Do(D)),n!==o&&Ic()!==o&&(s=Fa())!==o&&Ic()!==o&&(u=Ra())!==o&&Ic()!==o&&Tc()!==o&&Ic()!==o?((a=Bu())===o&&(a=null),a!==o?(t,i=e,c=s,f=a,(l=u).operator="=",t={type:"pivot",expr:i,column:c,in_expr:l,as:f}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o);var i,c,l,f;return t}())===o&&(n=null),n!==o?(t,u=n,(s=e)[0]&&(s[0].operator=u),t=s):(No=t,t=o)):(No=t,t=o),t}function Xu(){var r,t,e;return r=No,(t=ra())!==o&&Ic()!==o&&Ei()!==o&&Ic()!==o&&(e=ra())!==o?(r,r=t=[t,e]):(No=r,r=o),r}function Ku(){var r,t,e,n;if(r=No,(t=Zu())!==o){for(e=[],n=Qu();n!==o;)e.push(n),n=Qu();e!==o?(r,r=t=ct(t,e)):(No=r,r=o)}else No=r,r=o;return r}function Qu(){var r,t,e;return r=No,Ic()!==o&&(t=Ec())!==o&&Ic()!==o&&(e=Zu())!==o?(r,r=e):(No=r,r=o),r===o&&(r=No,Ic()!==o&&(t=function(){var r,t,e,n,s,u,a,i,c,l,f;if(r=No,(t=Ju())!==o)if(Ic()!==o)if((e=Zu())!==o)if(Ic()!==o)if((n=Ui())!==o)if(Ic()!==o)if(_c()!==o)if(Ic()!==o)if((s=Xa())!==o){for(u=[],a=No,(i=Ic())!==o&&(c=Ec())!==o&&(l=Ic())!==o&&(f=Xa())!==o?a=i=[i,c,l,f]:(No=a,a=o);a!==o;)u.push(a),a=No,(i=Ic())!==o&&(c=Ec())!==o&&(l=Ic())!==o&&(f=Xa())!==o?a=i=[i,c,l,f]:(No=a,a=o);u!==o&&(a=Ic())!==o&&(i=Tc())!==o?(r,p=t,d=s,v=u,(b=e).join=p,b.using=Xc(d,v),r=t=b):(No=r,r=o)}else No=r,r=o;else No=r,r=o;else No=r,r=o;else No=r,r=o;else No=r,r=o;else No=r,r=o;else No=r,r=o;else No=r,r=o;else No=r,r=o;var p,b,d,v;r===o&&(r=No,(t=Ju())!==o&&Ic()!==o&&(e=Zu())!==o&&Ic()!==o?((n=ea())===o&&(n=null),n!==o?(r,t=function(r,t,e){return t.join=r,t.on=e,t}(t,e,n),r=t):(No=r,r=o)):(No=r,r=o),r===o&&(r=No,(t=Ju())!==o&&Ic()!==o&&(e=_c())!==o&&Ic()!==o&&(n=Ou())!==o&&Ic()!==o&&Tc()!==o&&Ic()!==o?((s=Bu())===o&&(s=null),s!==o&&(u=Ic())!==o?((a=ea())===o&&(a=null),a!==o?(r,t=function(r,t,e,n){return t.parentheses=!0,{expr:t,as:e,join:r,on:n}}(t,n,s,a),r=t):(No=r,r=o)):(No=r,r=o)):(No=r,r=o)));return r}())!==o?(r,r=t):(No=r,r=o)),r}function zu(){var t,e,n,s,u,a,i,c,l,f,p,b;return t=No,"tablesample"===r.substr(No,11).toLowerCase()?(e=r.substr(No,11),No+=11):(e=o,0===ko&&Do(wt)),e!==o&&(n=Ic())!==o?("bernoulli"===r.substr(No,9).toLowerCase()?(s=r.substr(No,9),No+=9):(s=o,0===ko&&Do(Lt)),s===o&&("reservoir"===r.substr(No,9).toLowerCase()?(s=r.substr(No,9),No+=9):(s=o,0===ko&&Do(Ct))),s!==o&&(u=Ic())!==o?(40===r.charCodeAt(No)?(a="(",No++):(a=o,0===ko&&Do(tt)),a!==o&&(i=Ic())!==o&&(c=di())!==o&&(l=Ic())!==o?("percent"===r.substr(No,7).toLowerCase()?(f=r.substr(No,7),No+=7):(f=o,0===ko&&Do(mt)),f===o&&("rows"===r.substr(No,4).toLowerCase()?(f=r.substr(No,4),No+=4):(f=o,0===ko&&Do(Et))),f!==o&&(p=Ic())!==o?(41===r.charCodeAt(No)?(b=")",No++):(b=o,0===ko&&Do(et)),b!==o?t=e=[e,n,s,u,a,i,c,l,f,p,b]:(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t}function Zu(){var t,e,n,s,u,a,i,c,l,f;return(t=qu())===o&&(t=No,(e=ra())!==o?((n=function(){var t,e,n,s,u,a,i,c,l,f,p;return t=No,lt.test(r.charAt(No))?(e=r.charAt(No),No++):(e=o,0===ko&&Do(ft)),e!==o?(pt.test(r.charAt(No))?(n=r.charAt(No),No++):(n=o,0===ko&&Do(bt)),n!==o&&(s=Ic())!==o&&(u=Xa())!==o&&(a=Ic())!==o?(dt.test(r.charAt(No))?(i=r.charAt(No),No++):(i=o,0===ko&&Do(vt)),i!==o&&(c=Ic())!==o&&(l=Xa())!==o&&(f=Ic())!==o?(ht.test(r.charAt(No))?(p=r.charAt(No),No++):(p=o,0===ko&&Do(yt)),p!==o?t=e=[e,n,s,u,a,i,c,l,f,p]:(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t}())===o&&(n=null),n!==o&&(s=Ic())!==o?((u=zu())===o&&(u=null),u!==o&&Ic()!==o?((a=Bu())===o&&(a=null),a!==o?(t,f=a,t=e="var"===(l=e).type?(l.as=f,l):{...l,as:f}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,(e=_c())!==o&&(n=Ic())!==o&&(s=Ou())!==o&&(u=Ic())!==o&&Tc()!==o&&(a=Ic())!==o?((i=zu())===o&&(i=null),i!==o&&Ic()!==o?((c=Bu())===o&&(c=null),c!==o?(t,t=e=function(r,t,e){return r.parentheses=!0,{expr:r,as:e}}(s,0,c)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o))),t}function Ju(){var t,e,n;return t=No,(e=function(){var t,e,n,s;t=No,"left"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Dn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o?((n=ki())===o&&(n=null),n!==o&&Ic()!==o&&Ii()!==o?(t,t=e="LEFT JOIN"):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,(e=function(){var t,e,n,s;t=No,"right"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Pn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o?((n=ki())===o&&(n=null),n!==o&&Ic()!==o&&Ii()!==o?(t,t=e="RIGHT JOIN"):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,(e=function(){var t,e,n,s;t=No,"full"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Fn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o?((n=ki())===o&&(n=null),n!==o&&Ic()!==o&&Ii()!==o?(t,t=e="FULL JOIN"):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,(e=function(){var t,e,n,s;t=No,"cross"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Wn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&Ic()!==o&&(n=Ii())!==o?(t,t=e=e[0].toUpperCase()+" JOIN"):(No=t,t=o),t===o&&(t=No,(e=function(){var t,e,n,s;t=No,"inner"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Hn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())===o&&(e=null),e!==o&&Ic()!==o&&(n=Ii())!==o?(t,t=e=function(r){return r?r[0].toUpperCase()+" JOIN":"JOIN"}(e)):(No=t,t=o))))),t}function ra(){var r,t,e,n,s,u,a,i;return r=No,(t=Ba())!==o?(e=No,(n=Ic())!==o&&(s=mc())!==o&&(u=Ic())!==o&&(a=Ba())!==o?e=n=[n,s,u,a]:(No=e,e=o),e!==o?(n=No,(s=Ic())!==o&&(u=mc())!==o&&(a=Ic())!==o&&(i=Ba())!==o?n=s=[s,u,a,i]:(No=n,n=o),n!==o?(r,r=t=function(r,t,e){const n={db:null,table:r};return null!==e&&(n.db=r,n.catalog=r,n.schema=t[3],n.table=e[3]),n}(t,e,n)):(No=r,r=o)):(No=r,r=o)):(No=r,r=o),r===o&&(r=No,(t=Ba())!==o?(e=No,(n=Ic())!==o&&(s=mc())!==o&&(u=Ic())!==o&&(a=Ba())!==o?e=n=[n,s,u,a]:(No=e,e=o),e===o&&(e=null),e!==o?(r,r=t=function(r,t){const e={db:null,table:r};return null!==t&&(e.db=r,e.table=t[3]),e}(t,e)):(No=r,r=o)):(No=r,r=o)),r}function ta(){var r,t,e,n,s,u,a,i;if(r=No,(t=ya())!==o){for(e=[],n=No,(s=Ic())!==o?((u=Ji())===o&&(u=rc()),u!==o&&(a=Ic())!==o&&(i=ya())!==o?n=s=[s,u,a,i]:(No=n,n=o)):(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o?((u=Ji())===o&&(u=rc()),u!==o&&(a=Ic())!==o&&(i=ya())!==o?n=s=[s,u,a,i]:(No=n,n=o)):(No=n,n=o);e!==o?(r,r=t=function(r,t){const e=t.length;let n=r;for(let r=0;r<e;++r)n=qc(t[r][1],n,t[r][3]);return n}(t,e)):(No=r,r=o)}else No=r,r=o;return r}function ea(){var r,t;return r=No,Ri()!==o&&Ic()!==o&&(t=Aa())!==o?(r,r=t):(No=r,r=o),r}function na(){var t,e;return t=No,function(){var t,e,n,s;t=No,"where"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Qn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}()!==o&&Ic()!==o&&(e=Aa())!==o?(t,t=e):(No=t,t=o),t}function sa(){var r,t,e;return r=No,(t=Xa())!==o&&Ic()!==o&&xi()!==o&&Ic()!==o&&(e=oa())!==o?(r,r=t={name:t,as_window_specification:e}):(No=r,r=o),r}function oa(){var t,e,n;return t=No,(e=Xa())!==o&&(t,e=e),(t=e)===o&&(t=No,(e=_c())!==o&&Ic()!==o?((n=function(){var t,e,n,s,u;t=No,(e=Wa())===o&&(e=null);e!==o&&Ic()!==o?((n=la())===o&&(n=null),n!==o&&Ic()!==o?((s=fa())===o&&(s=null),s!==o&&Ic()!==o?((u=function(){var t,e,n,s,u,a,i,c,l;t=No,"range"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(At));e!==o&&Ic()!==o&&(n=Vi())!==o?("unbounded"===r.substr(No,9).toLowerCase()?(s=r.substr(No,9),No+=9):(s=o,0===ko&&Do(_t)),s!==o&&(u=Ic())!==o?("preceding"===r.substr(No,9).toLowerCase()?(a=r.substr(No,9),No+=9):(a=o,0===ko&&Do(Tt)),a!==o&&Ic()!==o&&Ji()!==o&&(i=Ic())!==o?("current"===r.substr(No,7).toLowerCase()?(c=r.substr(No,7),No+=7):(c=o,0===ko&&Do(gt)),c!==o&&Ic()!==o?("ROW"===r.substr(No,3)?(l="ROW",No+=3):(l=o,0===ko&&Do(jt)),l!==o?(t,t=e="range between unbounded preceding and current row"):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o);t===o&&(t=No,(e=pc())!==o&&Ic()!==o?((n=ua())===o&&(n=aa()),n!==o?(t,e="rows "+n.value,t=e):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,(e=pc())!==o&&Ic()!==o&&(n=Vi())!==o&&(s=Ic())!==o&&(u=aa())!==o&&(a=Ic())!==o&&Ji()!==o&&Ic()!==o&&(i=ua())!==o?(t,f=i,e=`rows between ${u.value} and ${f.value}`,t=e):(No=t,t=o)));var f;return t}())===o&&(u=null),u!==o?(t,t=e={name:e,partitionby:n,orderby:s,window_frame_clause:u}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o)):(No=t,t=o);return t}())===o&&(n=null),n!==o&&Ic()!==o&&Tc()!==o?(t,t=e={window_specification:n,parentheses:!0}):(No=t,t=o)):(No=t,t=o)),t}function ua(){var t,e,n,s,u;return t=No,(e=ca())!==o&&Ic()!==o?("following"===r.substr(No,9).toLowerCase()?(n=r.substr(No,9),No+=9):(n=o,0===ko&&Do(xt)),n===o&&("preceding"===r.substr(No,9).toLowerCase()?(n=r.substr(No,9),No+=9):(n=o,0===ko&&Do(Tt))),n!==o?(t,u=n,(s=e).value+=" "+u.toUpperCase(),t=e=s):(No=t,t=o)):(No=t,t=o),t===o&&(t=ia()),t}function aa(){var t,e,n,s;return t=No,(e=ca())!==o&&Ic()!==o?("preceding"===r.substr(No,9).toLowerCase()?(n=r.substr(No,9),No+=9):(n=o,0===ko&&Do(Tt)),n!==o?(t,(s=e).value+=" PRECEDING",t=e=s):(No=t,t=o)):(No=t,t=o),t===o&&(t=ia()),t}function ia(){var t,e,n;return t=No,"current"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(gt)),e!==o&&Ic()!==o?("row"===r.substr(No,3).toLowerCase()?(n=r.substr(No,3),No+=3):(n=o,0===ko&&Do(Nt)),n!==o?(t,t=e={type:"single_quote_string",value:"current row"}):(No=t,t=o)):(No=t,t=o),t}function ca(){var t,e;return t=No,"unbounded"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do(_t)),e!==o&&(t,e={type:"single_quote_string",value:e.toUpperCase()}),(t=e)===o&&(t=bi()),t}function la(){var r,t;return r=No,_i()!==o&&Ic()!==o&&Di()!==o&&Ic()!==o&&(t=Fu())!==o?(r,r=t):(No=r,r=o),r}function fa(){var t,e;return t=No,function(){var t,e,n,s;t=No,"order"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Zn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}()!==o&&Ic()!==o&&Di()!==o&&Ic()!==o&&(e=function(){var r,t,e,n,s,u,a,i;if(r=No,(t=pa())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=pa())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=pa())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,t=c(t,e),r=t):(No=r,r=o)}else No=r,r=o;return r}())!==o?(t,t=e):(No=t,t=o),t}function pa(){var t,e,n,s,u,a;return t=No,(e=ya())!==o&&Ic()!==o?(n=No,"collate"===r.substr(No,7).toLowerCase()?(s=r.substr(No,7),No+=7):(s=o,0===ko&&Do(yr)),s!==o&&(u=Ic())!==o&&(a=ci())!==o?n=s=[s,u,a]:(No=n,n=o),n===o&&(n=null),n!==o&&(s=Ic())!==o?((u=Gi())===o&&(u=function(){var t,e,n,s;t=No,"asc"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(as));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="ASC"):(No=t,t=o)):(No=t,t=o);return t}()),u===o&&(u=null),u!==o?(t,t=e={expr:e,type:u}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t}function ba(){var r;return(r=bi())===o&&(r=Za()),r}function da(){var t,e,n,s,u,a;return t=No,function(){var t,e,n,s;t=No,"limit"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(ss));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}()!==o&&Ic()!==o&&(e=ba())!==o&&Ic()!==o?(n=No,(s=Ec())===o&&(s=Wi()),s!==o&&(u=Ic())!==o&&(a=ba())!==o?n=s=[s,u,a]:(No=n,n=o),n===o&&(n=null),n!==o?(t,t=function(r,t){const e=[r];return t&&e.push(t[2]),{seperator:t&&t[0]&&t[0].toLowerCase()||"",value:e}}(e,n)):(No=t,t=o)):(No=t,t=o),t}function va(){var r,t,e,n,s,u,a,i;if(r=No,(t=ya())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=ya())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=ya())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,r=t=function(r,t){const e={type:"expr_list"};return e.value=Xc(r,t),e}(t,e)):(No=r,r=o)}else No=r,r=o;return r}function ha(){var r;return(r=ma())===o&&(r=Ca())===o&&(r=Ea())===o&&(r=function(){var r,t,e,n,s,u,a,c;if(r=No,(t=_a())!==o){for(e=[],n=No,(s=kc())!==o&&(u=rc())!==o&&(a=Ic())!==o&&(c=_a())!==o?n=s=[s,u,a,c]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=kc())!==o&&(u=rc())!==o&&(a=Ic())!==o&&(c=_a())!==o?n=s=[s,u,a,c]:(No=n,n=o);e!==o?(r,t=i(t,e),r=t):(No=r,r=o)}else No=r,r=o;return r}())===o&&(r=function(){var r,t,e,n,s,u;if(r=No,(t=ka())!==o){if(e=[],n=No,(s=Ic())!==o&&(u=Ua())!==o?n=s=[s,u]:(No=n,n=o),n!==o)for(;n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ua())!==o?n=s=[s,u]:(No=n,n=o);else e=o;e!==o?(r,t=Bc(t,e[0][1]),r=t):(No=r,r=o)}else No=r,r=o;return r}())===o&&(r=La()),r}function ya(){var r;return(r=ha())===o&&(r=Ou()),r}function wa(){var r,t;return r=No,_c()!==o&&Ic()!==o&&(t=Fu())!==o&&Ic()!==o&&Tc()!==o?(r,r=t):(No=r,r=o),r}function La(){var r,t,e,n,s,u;return r=No,(t=xc())!==o&&Ic()!==o?((e=Fu())===o&&(e=null),e!==o&&(n=Ic())!==o&&(s=Nc())!==o?(r,r=t={array_path:e,type:"array",brackets:!0,keyword:""}):(No=r,r=o)):(No=r,r=o),r===o&&(r=No,(t=Hc())===o&&(t=uc()),t===o&&(t=null),t!==o&&xc()!==o&&(e=Ic())!==o&&(n=ai())!==o&&(s=Ic())!==o&&Nc()!==o?(r,r=t=function(r,t){return{definition:r,array_path:t.map(r=>({expr:r,as:null})),type:"array",keyword:r&&"array",brackets:!0}}(t,n)):(No=r,r=o),r===o&&(r=No,(t=Hc())===o&&(t=uc()),t===o&&(t=null),t!==o&&Ic()!==o?((e=xc())===o&&(e=_c()),e!==o&&(n=Ic())!==o?((s=function(){var r,t,e,n,s,u,a,i;if(r=No,(t=wa())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=wa())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=wa())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,r=t=c(t,e)):(No=r,r=o)}else No=r,r=o;return r}())===o&&(s=ya()),s!==o&&Ic()!==o?((u=Nc())===o&&(u=Tc()),u!==o?(r,r=t=function(r,t,e,n){if("[]"!=`${t}${n}`&&"()"!=`${t}${n}`)throw new Error("parentheses or brackets is not in pair");return{definition:r,expr_list:e,type:"array",keyword:r&&"array",brackets:"["===t,parentheses:"("===t}}(t,e,s,u)):(No=r,r=o)):(No=r,r=o)):(No=r,r=o)):(No=r,r=o))),r}function Ca(){var t,e;return t=No,function(){var t,e,n,s;t=No,"json"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Ws));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="JSON"):(No=t,t=o)):(No=t,t=o);return t}()!==o&&Ic()!==o&&(e=ai())!==o?(t,t={type:"json",keyword:"json",expr_list:e}):(No=t,t=o),t}function ma(){var r,t,e,n;return r=No,(t=Wc())===o&&(t=cc()),t!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(e=Fu())!==o&&Ic()!==o&&Tc()!==o?(r,r=t={definition:n=t,expr_list:e,type:"struct",keyword:n&&"struct",parentheses:!0}):(No=r,r=o),r}function Ea(){var r,t,e,n,s,u,a,i;if(r=No,(t=Ua())!==o){if(e=[],n=No,(s=Ic())!==o&&(u=Rc())!==o&&(a=Ic())!==o&&(i=Ua())!==o?n=s=[s,u,a,i]:(No=n,n=o),n!==o)for(;n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Rc())!==o&&(a=Ic())!==o&&(i=Ua())!==o?n=s=[s,u,a,i]:(No=n,n=o);else e=o;e!==o&&(n=Ic())!==o?((s=ja())===o&&(s=null),s!==o?(r,r=t=function(r,t,e){const n=Kc(r,t);return null===e?n:"arithmetic"===e.type?Kc(n,e.tail):qc(e.op,n,e.right)}(t,e,s)):(No=r,r=o)):(No=r,r=o)}else No=r,r=o;return r}function Aa(){var r,t,e,n,s,u,a,i;if(r=No,(t=ya())!==o){for(e=[],n=No,(s=Ic())!==o?((u=Ji())===o&&(u=rc())===o&&(u=Ec()),u!==o&&(a=Ic())!==o&&(i=ya())!==o?n=s=[s,u,a,i]:(No=n,n=o)):(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o?((u=Ji())===o&&(u=rc())===o&&(u=Ec()),u!==o&&(a=Ic())!==o&&(i=ya())!==o?n=s=[s,u,a,i]:(No=n,n=o)):(No=n,n=o);e!==o?(r,r=t=function(r,t){const e=t.length;let n=r,s="";for(let r=0;r<e;++r)","===t[r][1]?(s=",",Array.isArray(n)||(n=[n]),n.push(t[r][3])):n=qc(t[r][1],n,t[r][3]);if(","===s){const r={type:"expr_list"};return r.value=n,r}return n}(t,e)):(No=r,r=o)}else No=r,r=o;return r}function _a(){var r,t,e,n,s,u,a,c;if(r=No,(t=Ta())!==o){for(e=[],n=No,(s=kc())!==o&&(u=Ji())!==o&&(a=Ic())!==o&&(c=Ta())!==o?n=s=[s,u,a,c]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=kc())!==o&&(u=Ji())!==o&&(a=Ic())!==o&&(c=Ta())!==o?n=s=[s,u,a,c]:(No=n,n=o);e!==o?(r,r=t=i(t,e)):(No=r,r=o)}else No=r,r=o;return r}function Ta(){var t,e,n,s,u;return(t=ga())===o&&(t=function(){var r,t,e;r=No,(t=function(){var r,t,e,n,s;r=No,t=No,(e=Zi())!==o&&(n=Ic())!==o&&(s=zi())!==o?t=e=[e,n,s]:(No=t,t=o);t!==o&&(r,t=Rt(t));(r=t)===o&&(r=zi());return r}())!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(e=Ou())!==o&&Ic()!==o&&Tc()!==o?(r,n=t,(s=e).parentheses=!0,t=Bc(n,s),r=t):(No=r,r=o);var n,s;return r}())===o&&(t=No,(e=Zi())===o&&(e=No,33===r.charCodeAt(No)?(n="!",No++):(n=o,0===ko&&Do(St)),n!==o?(s=No,ko++,61===r.charCodeAt(No)?(u="=",No++):(u=o,0===ko&&Do(l)),ko--,u===o?s=void 0:(No=s,s=o),s!==o?e=n=[n,s]:(No=e,e=o)):(No=e,e=o)),e!==o&&(n=Ic())!==o&&(s=Ta())!==o?(t,t=e=Bc("NOT",s)):(No=t,t=o)),t}function ga(){var r,t,e,n,s;return r=No,(t=Ia())!==o&&Ic()!==o?((e=ja())===o&&(e=null),e!==o?(r,n=t,r=t=null===(s=e)?n:"arithmetic"===s.type?Kc(n,s.tail):qc(s.op,n,s.right)):(No=r,r=o)):(No=r,r=o),r===o&&(r=ci())===o&&(r=Fa()),r}function ja(){var r;return(r=function(){var r,t,e,n,s,u,a;r=No,t=[],e=No,(n=Ic())!==o&&(s=xa())!==o&&(u=Ic())!==o?((a=Ea())===o&&(a=Ia()),a!==o?e=n=[n,s,u,a]:(No=e,e=o)):(No=e,e=o);if(e!==o)for(;e!==o;)t.push(e),e=No,(n=Ic())!==o&&(s=xa())!==o&&(u=Ic())!==o?((a=Ea())===o&&(a=Ia()),a!==o?e=n=[n,s,u,a]:(No=e,e=o)):(No=e,e=o);else t=o;t!==o&&(r,t={type:"arithmetic",tail:t});return r=t}())===o&&(r=Ra())===o&&(r=function(){var r,t,e,n;r=No,(t=function(){var r,t,e,n,s;r=No,t=No,(e=Zi())!==o&&(n=Ic())!==o&&(s=Vi())!==o?t=e=[e,n,s]:(No=t,t=o);t!==o&&(r,t=Rt(t));(r=t)===o&&(r=Vi());return r}())!==o&&Ic()!==o&&(e=Ia())!==o&&Ic()!==o&&Ji()!==o&&Ic()!==o&&(n=Ia())!==o?(r,r=t={op:t,right:{type:"expr_list",value:[e,n]}}):(No=r,r=o);return r}())===o&&(r=function(){var r,t,e,n,s;r=No,(t=Ki())!==o&&(e=Ic())!==o&&(n=Ia())!==o?(r,r=t={op:"IS",right:n}):(No=r,r=o);r===o&&(r=No,t=No,(e=Ki())!==o&&(n=Ic())!==o&&(s=Zi())!==o?t=e=[e,n,s]:(No=t,t=o),t!==o&&(e=Ic())!==o&&(n=Ia())!==o?(r,t=function(r){return{op:"IS NOT",right:r}}(n),r=t):(No=r,r=o));return r}())===o&&(r=Sa()),r}function xa(){var t;return">="===r.substr(No,2)?(t=">=",No+=2):(t=o,0===ko&&Do(It)),t===o&&(62===r.charCodeAt(No)?(t=">",No++):(t=o,0===ko&&Do(kt)),t===o&&("<="===r.substr(No,2)?(t="<=",No+=2):(t=o,0===ko&&Do(Ot)),t===o&&("<>"===r.substr(No,2)?(t="<>",No+=2):(t=o,0===ko&&Do($t)),t===o&&(60===r.charCodeAt(No)?(t="<",No++):(t=o,0===ko&&Do(Ut)),t===o&&(61===r.charCodeAt(No)?(t="=",No++):(t=o,0===ko&&Do(l)),t===o&&("!="===r.substr(No,2)?(t="!=",No+=2):(t=o,0===ko&&Do(Mt)))))))),t}function Na(){var r,t,e,n,s;return r=No,t=No,(e=Zi())!==o&&(n=Ic())!==o&&(s=Xi())!==o?t=e=[e,n,s]:(No=t,t=o),t!==o&&(r,t=Rt(t)),(r=t)===o&&(r=Xi()),r}function Sa(){var r,t,e;return r=No,(t=function(){var r,t,e,n,s;return r=No,t=No,(e=Zi())!==o&&(n=Ic())!==o&&(s=Qi())!==o?t=e=[e,n,s]:(No=t,t=o),t!==o&&(r,t=Rt(t)),(r=t)===o&&(r=Qi()),r}())!==o&&Ic()!==o?((e=ui())===o&&(e=ga()),e!==o?(r,r=t={op:t,right:e}):(No=r,r=o)):(No=r,r=o),r}function Ra(){var r,t,e,n;return r=No,(t=Na())!==o&&Ic()!==o&&(e=_c())!==o&&Ic()!==o&&(n=va())!==o&&Ic()!==o&&Tc()!==o?(r,r=t={op:t,right:n}):(No=r,r=o),r===o&&(r=No,(t=Na())!==o&&Ic()!==o?((e=ci())===o&&(e=qu()),e!==o?(r,r=t=function(r,t){return{op:r,right:t}}(t,e)):(No=r,r=o)):(No=r,r=o)),r}function Ia(){var r,t,e,n,s,u,a,c;if(r=No,(t=Oa())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=ka())!==o&&(a=Ic())!==o&&(c=Oa())!==o?n=s=[s,u,a,c]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=ka())!==o&&(a=Ic())!==o&&(c=Oa())!==o?n=s=[s,u,a,c]:(No=n,n=o);e!==o?(r,r=t=i(t,e)):(No=r,r=o)}else No=r,r=o;return r}function ka(){var t;return 43===r.charCodeAt(No)?(t="+",No++):(t=o,0===ko&&Do(Dt)),t===o&&(45===r.charCodeAt(No)?(t="-",No++):(t=o,0===ko&&Do(Pt))),t}function Oa(){var r,t,e,n,s,u,a,i;if(r=No,(t=Ua())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=$a())!==o&&(a=Ic())!==o&&(i=Ua())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=$a())!==o&&(a=Ic())!==o&&(i=Ua())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,r=t=Kc(t,e)):(No=r,r=o)}else No=r,r=o;return r}function $a(){var t;return 42===r.charCodeAt(No)?(t="*",No++):(t=o,0===ko&&Do(Ft)),t===o&&(47===r.charCodeAt(No)?(t="/",No++):(t=o,0===ko&&Do(Ht)),t===o&&(37===r.charCodeAt(No)?(t="%",No++):(t=o,0===ko&&Do(Wt)))),t}function Ua(){var t,e,n;return(t=La())===o&&(t=ma())===o&&(t=Ca())===o&&(t=function(){var t,e,n,s,u,a,i;t=No,(e=oi())!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(n=ya())!==o&&Ic()!==o&&xi()!==o&&Ic()!==o&&(s=Fc())!==o&&Ic()!==o&&(u=Tc())!==o?(t,c=n,l=s,e={type:"cast",keyword:e.toLowerCase(),expr:c,symbol:"as",target:l},t=e):(No=t,t=o);var c,l;t===o&&(t=No,(e=oi())!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(n=ya())!==o&&Ic()!==o&&xi()!==o&&Ic()!==o&&(s=ac())!==o&&Ic()!==o&&(u=_c())!==o&&Ic()!==o&&(a=vi())!==o&&Ic()!==o&&Tc()!==o&&Ic()!==o&&(i=Tc())!==o?(t,e=function(r,t,e){return{type:"cast",keyword:r.toLowerCase(),expr:t,symbol:"as",target:{dataType:"DECIMAL("+e+")"}}}(e,n,a),t=e):(No=t,t=o),t===o&&(t=No,(e=oi())!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(n=ya())!==o&&Ic()!==o&&xi()!==o&&Ic()!==o&&(s=ac())!==o&&Ic()!==o&&(u=_c())!==o&&Ic()!==o&&(a=vi())!==o&&Ic()!==o&&Ec()!==o&&Ic()!==o&&(i=vi())!==o&&Ic()!==o&&Tc()!==o&&Ic()!==o&&Tc()!==o?(t,e=function(r,t,e,n){return{type:"cast",keyword:r.toLowerCase(),expr:t,symbol:"as",target:{dataType:"DECIMAL("+e+", "+n+")"}}}(e,n,a,i),t=e):(No=t,t=o),t===o&&(t=No,(e=oi())!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(n=ya())!==o&&Ic()!==o&&xi()!==o&&Ic()!==o&&(s=function(){var t;(t=function(){var t,e,n,s;t=No,"signed"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Ds));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="SIGNED"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=function(){var t,e,n,s;t=No,"unsigned"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(Ps));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="UNSIGNED"):(No=t,t=o)):(No=t,t=o);return t}());return t}())!==o&&Ic()!==o?((u=ic())===o&&(u=null),u!==o&&Ic()!==o&&(a=Tc())!==o?(t,e=function(r,t,e,n){return{type:"cast",keyword:r.toLowerCase(),expr:t,symbol:"as",target:{dataType:e+(n?" "+n:"")}}}(e,n,s,u),t=e):(No=t,t=o)):(No=t,t=o))));return t}())===o&&(t=ui())===o&&(t=Ja())===o&&(t=function(){var t,e,n,s,u;(t=function(){var t,e,n,s,u;t=No,(e=nc())!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(n=si())!==o&&Ic()!==o&&gi()!==o&&Ic()!==o?((s=dc())===o&&(s=vc())===o&&(s=bc())===o&&(s=lc()),s!==o&&Ic()!==o&&(u=ya())!==o&&Ic()!==o&&Tc()!==o?(t,a=n,i=s,c=u,e={type:e.toLowerCase(),args:{field:a,cast_type:i,source:c}},t=e):(No=t,t=o)):(No=t,t=o);var a,i,c;t===o&&(t=No,(e=nc())!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(n=si())!==o&&Ic()!==o&&gi()!==o&&Ic()!==o&&(s=ya())!==o&&Ic()!==o&&(u=Tc())!==o?(t,e=function(r,t,e){return{type:r.toLowerCase(),args:{field:t,source:e}}}(e,n,s),t=e):(No=t,t=o),t===o&&(t=No,"date_trunc"===r.substr(No,10).toLowerCase()?(e=r.substr(No,10),No+=10):(e=o,0===ko&&Do(Ge)),e!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(n=ya())!==o&&Ic()!==o&&Ec()!==o&&Ic()!==o&&(s=si())!==o&&Ic()!==o&&(u=Tc())!==o?(t,e=function(r,t){return{type:"function",name:"DATE_TRUNC",args:{type:"expr_list",value:[r,{type:"origin",value:t}]},over:null}}(n,s),t=e):(No=t,t=o)));return t}())===o&&(t=function(){var t,e,n,s,u;t=No,"any_value"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do(ae));e!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(n=Aa())!==o&&Ic()!==o?((s=function(){var r,t,e;r=No,Pi()!==o&&Ic()!==o?((t=tc())===o&&(t=ec()),t!==o&&Ic()!==o&&(e=Aa())!==o?(r,r={prefix:t,expr:e}):(No=r,r=o)):(No=r,r=o);return r}())===o&&(s=null),s!==o&&Ic()!==o&&Tc()!==o&&Ic()!==o?((u=ti())===o&&(u=null),u!==o?(t,t=e={type:"any_value",args:{expr:n,having:s},over:u}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=No,(e=function(){var t;(t=ni())===o&&(t=function(){var t,e,n,s;t=No,"session_user"===r.substr(No,12).toLowerCase()?(e=r.substr(No,12),No+=12):(e=o,0===ko&&Do(Js));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="SESSION_USER"):(No=t,t=o)):(No=t,t=o);return t}());return t}())!==o&&Ic()!==o&&(n=_c())!==o&&Ic()!==o?((s=va())===o&&(s=null),s!==o&&Ic()!==o&&Tc()!==o&&Ic()!==o?((u=ti())===o&&(u=null),u!==o?(t,t=e={type:"function",name:e,args:s||{type:"expr_list",value:[]},over:u}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,(e=ni())!==o&&Ic()!==o?((n=ri())===o&&(n=null),n!==o?(t,t=e={type:"function",name:e,over:n}):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,(e=ei())!==o&&Ic()!==o&&(n=_c())!==o&&Ic()!==o?((s=Aa())===o&&(s=null),s!==o&&Ic()!==o&&Tc()!==o&&Ic()!==o?((u=ti())===o&&(u=null),u!==o?(t,e=function(r,t,e){return t&&"expr_list"!==t.type&&(t={type:"expr_list",value:[t]}),{type:"function",name:r,args:t||{type:"expr_list",value:[]},over:e}}(e,s,u),t=e):(No=t,t=o)):(No=t,t=o)):(No=t,t=o))));return t}())===o&&(t=function(){var r,t,e,n,s,u,a;r=No,(t=sc())!==o&&Ic()!==o&&(e=Ma())!==o&&Ic()!==o?((n=Pa())===o&&(n=null),n!==o&&Ic()!==o&&(s=oc())!==o&&Ic()!==o?((u=sc())===o&&(u=null),u!==o?(r,i=e,(c=n)&&i.push(c),r=t={type:"case",expr:null,args:i}):(No=r,r=o)):(No=r,r=o)):(No=r,r=o);var i,c;r===o&&(r=No,(t=sc())!==o&&Ic()!==o&&(e=ya())!==o&&Ic()!==o&&(n=Ma())!==o&&Ic()!==o?((s=Pa())===o&&(s=null),s!==o&&Ic()!==o&&(u=oc())!==o&&Ic()!==o?((a=sc())===o&&(a=null),a!==o?(r,t=function(r,t,e){return e&&t.push(e),{type:"case",expr:r,args:t}}(e,n,s),r=t):(No=r,r=o)):(No=r,r=o)):(No=r,r=o));return r}())===o&&(t=function(){var t,e,n,s;t=No,(e=vc())!==o&&Ic()!==o&&(n=ya())!==o&&Ic()!==o&&(s=function(){var t;(t=function(){var t,e,n,s;t=No,"year"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Ye));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="YEAR"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=function(){var t,e,n,s;t=No,"isoyear"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(Ie));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="ISOYEAR"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=function(){var t,e,n,s;t=No,"month"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Me));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="MONTH"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=function(){var t,e,n,s;t=No,"day"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(Ae));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="DAY"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=function(){var t,e,n,s;t=No,"hour"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Ne));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="HOUR"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=function(){var t,e,n,s;t=No,"minute"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Ue));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="MINUTE"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=function(){var t,e,n,s;t=No,"second"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Pe));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="SECOND"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=function(){var t,e,n,s;t=No,"week"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(We));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="WEEK"):(No=t,t=o)):(No=t,t=o);return t}());return t}())!==o?(t,e={type:"interval",expr:n,unit:s.toLowerCase()},t=e):(No=t,t=o);return t}())===o&&(t=Fa())===o&&(t=Za())===o&&(t=No,_c()!==o&&Ic()!==o&&(e=Aa())!==o&&Ic()!==o&&Tc()!==o?(t,(n=e).parentheses=!0,t=n):(No=t,t=o)),t}function Ma(){var r,t,e,n,s,u;if(r=No,(t=Da())!==o)if(Ic()!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Da())!==o?n=s=[s,u]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Da())!==o?n=s=[s,u]:(No=n,n=o);e!==o?(r,r=t=C(t,e)):(No=r,r=o)}else No=r,r=o;else No=r,r=o;return r}function Da(){var t,e,n;return t=No,function(){var t,e,n,s;t=No,"when"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(gs));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}()!==o&&Ic()!==o&&(e=Aa())!==o&&Ic()!==o&&function(){var t,e,n,s;t=No,"then"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(js));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}()!==o&&Ic()!==o&&(n=ya())!==o?(t,t={type:"when",cond:e,result:n}):(No=t,t=o),t}function Pa(){var t,e;return t=No,function(){var t,e,n,s;t=No,"else"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(xs));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}()!==o&&Ic()!==o&&(e=ya())!==o?(t,t={type:"else",result:e}):(No=t,t=o),t}function Fa(){var r,t,e,n,s,u,a,i,c,l,f,p;if(r=No,(t=Ga())!==o){if(e=[],n=No,(s=Ic())!==o&&(u=mc())!==o&&(a=Ic())!==o&&(i=Ga())!==o?n=s=[s,u,a,i]:(No=n,n=o),n!==o)for(;n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=mc())!==o&&(a=Ic())!==o&&(i=Ga())!==o?n=s=[s,u,a,i]:(No=n,n=o);else e=o;e!==o&&(n=Ic())!==o?(s=No,(u=Wu())!==o&&(a=Ic())!==o?(i=No,(c=mc())!==o&&(l=Ic())!==o&&(f=Ga())!==o?i=c=[c,l,f]:(No=i,i=o),i===o&&(i=null),i!==o?s=u=[u,a,i]:(No=s,s=o)):(No=s,s=o),s===o&&(s=null),s!==o?(r,r=t=function(r,t,e){const n=t.map(r=>r[3]);rl.add(`select::${r}::${n[0]}`);return{type:"column_ref",table:r,...e?{column:{expr:{type:"column_ref",table:null,column:n[0],subFields:n.slice(1)},offset:e&&e[0],suffix:e&&e[2]&&"."+e[2][2]}}:{column:n[0],subFields:n.slice(1)}}}(t,e,s)):(No=r,r=o)):(No=r,r=o)}else No=r,r=o;return r===o&&(r=No,(t=qa())!==o&&(r,p=t,rl.add("select::null::"+p),t={type:"column_ref",table:null,column:p}),r=t),r}function Ha(){var r,t,e,n,s,u,a,i;if(r=No,(t=qa())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=qa())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=qa())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,r=t=c(t,e)):(No=r,r=o)}else No=r,r=o;return r}function Wa(){var r,t;return r=No,(t=Xa())!==o?(No,(!0===Yc[(""+t).toUpperCase()]?o:void 0)!==o?(r,r=t=t):(No=r,r=o)):(No=r,r=o),r===o&&(r=No,(t=Ya())!==o&&(r,t=t),r=t),r}function Ya(){var t;return(t=function(){var t,e,n,s;t=No,34===r.charCodeAt(No)?(e='"',No++):(e=o,0===ko&&Do(Yt));if(e!==o){if(n=[],Gt.test(r.charAt(No))?(s=r.charAt(No),No++):(s=o,0===ko&&Do(Bt)),s!==o)for(;s!==o;)n.push(s),Gt.test(r.charAt(No))?(s=r.charAt(No),No++):(s=o,0===ko&&Do(Bt));else n=o;n!==o?(34===r.charCodeAt(No)?(s='"',No++):(s=o,0===ko&&Do(Yt)),s!==o?(t,e=qt(n),t=e):(No=t,t=o)):(No=t,t=o)}else No=t,t=o;return t}())===o&&(t=function(){var t,e,n,s;t=No,39===r.charCodeAt(No)?(e="'",No++):(e=o,0===ko&&Do(cr));if(e!==o){if(n=[],Vt.test(r.charAt(No))?(s=r.charAt(No),No++):(s=o,0===ko&&Do(Xt)),s!==o)for(;s!==o;)n.push(s),Vt.test(r.charAt(No))?(s=r.charAt(No),No++):(s=o,0===ko&&Do(Xt));else n=o;n!==o?(39===r.charCodeAt(No)?(s="'",No++):(s=o,0===ko&&Do(cr)),s!==o?(t,e=qt(n),t=e):(No=t,t=o)):(No=t,t=o)}else No=t,t=o;return t}())===o&&(t=function(){var t,e,n,s;t=No,96===r.charCodeAt(No)?(e="`",No++):(e=o,0===ko&&Do(Kt));if(e!==o){if(n=[],Qt.test(r.charAt(No))?(s=r.charAt(No),No++):(s=o,0===ko&&Do(zt)),s!==o)for(;s!==o;)n.push(s),Qt.test(r.charAt(No))?(s=r.charAt(No),No++):(s=o,0===ko&&Do(zt));else n=o;n!==o?(96===r.charCodeAt(No)?(s="`",No++):(s=o,0===ko&&Do(Kt)),s!==o?(t,e=`\`${n.join("")}\``,t=e):(No=t,t=o)):(No=t,t=o)}else No=t,t=o;return t}()),t}function Ga(){var r;return(r=Va())===o&&(r=Ya()),r}function Ba(){var r;return(r=Xa())===o&&(r=Ya()),r}function qa(){var r,t;return r=No,(t=Va())!==o?(No,(!0===Yc[t.toUpperCase()]?o:void 0)!==o?(r,r=t=t):(No=r,r=o)):(No=r,r=o),r===o&&(r=Ya()),r}function Va(){var r,t,e,n;if(r=No,(t=Ka())!==o){for(e=[],n=za();n!==o;)e.push(n),n=za();e!==o?(r,r=t=Zt(t,e)):(No=r,r=o)}else No=r,r=o;return r}function Xa(){var r,t,e,n;if(r=No,(t=Ka())!==o){for(e=[],n=Qa();n!==o;)e.push(n),n=Qa();e!==o?(r,r=t=Zt(t,e)):(No=r,r=o)}else No=r,r=o;return r}function Ka(){var t;return Jt.test(r.charAt(No))?(t=r.charAt(No),No++):(t=o,0===ko&&Do(re)),t}function Qa(){var t;return te.test(r.charAt(No))?(t=r.charAt(No),No++):(t=o,0===ko&&Do(ee)),t}function za(){var t;return ne.test(r.charAt(No))?(t=r.charAt(No),No++):(t=o,0===ko&&Do(se)),t}function Za(){var t,e,n;return t=No,58===r.charCodeAt(No)?(e=":",No++):(e=o,0===ko&&Do(oe)),e===o&&(64===r.charCodeAt(No)?(e="@",No++):(e=o,0===ko&&Do(Vr))),e!==o&&(n=Xa())!==o?(t,t=e={type:"param",value:n,prefix:e}):(No=t,t=o),t}function Ja(){var t;return(t=function(){var t,e,n,s;t=No,(e=function(){var t,e,n,s;t=No,"count"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(ws));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="COUNT"):(No=t,t=o)):(No=t,t=o);return t}())===o&&("string_agg"===r.substr(No,10).toLowerCase()?(e=r.substr(No,10),No+=10):(e=o,0===ko&&Do(ue)));e!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(n=function(){var t,e,n,s,u,a,i,c,l,f;t=No,(e=function(){var t,e;t=No,42===r.charCodeAt(No)?(e="*",No++):(e=o,0===ko&&Do(Ft));e!==o&&(t,e={type:"star",value:"*"});return t=e}())!==o&&(t,e={expr:e});if((t=e)===o){if(t=No,(e=qi())===o&&(e=null),e!==o)if(Ic()!==o)if((n=_c())!==o)if(Ic()!==o)if((s=ya())!==o)if(Ic()!==o)if(Tc()!==o){for(u=[],a=No,(i=Ic())!==o?((c=Ji())===o&&(c=rc()),c!==o&&(l=Ic())!==o&&(f=ya())!==o?a=i=[i,c,l,f]:(No=a,a=o)):(No=a,a=o);a!==o;)u.push(a),a=No,(i=Ic())!==o?((c=Ji())===o&&(c=rc()),c!==o&&(l=Ic())!==o&&(f=ya())!==o?a=i=[i,c,l,f]:(No=a,a=o)):(No=a,a=o);u!==o&&(a=Ic())!==o?((i=fa())===o&&(i=null),i!==o?(t,e=function(r,t,e,n){const s=e.length;let o=t;o.parentheses=!0;for(let r=0;r<s;++r)o=qc(e[r][1],o,e[r][3]);return{distinct:r,expr:o,orderby:n}}(e,s,u,i),t=e):(No=t,t=o)):(No=t,t=o)}else No=t,t=o;else No=t,t=o;else No=t,t=o;else No=t,t=o;else No=t,t=o;else No=t,t=o;else No=t,t=o;t===o&&(t=No,(e=qi())===o&&(e=null),e!==o&&Ic()!==o&&(n=ta())!==o&&Ic()!==o?((s=fa())===o&&(s=null),s!==o?(t,t=e={distinct:e,expr:n,orderby:s}):(No=t,t=o)):(No=t,t=o))}return t}())!==o&&Ic()!==o&&Tc()!==o&&Ic()!==o?((s=ti())===o&&(s=null),s!==o?(t,t=e={type:"aggr_func",name:e,args:n,over:s}):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=function(){var t,e,n,s;t=No,(e=function(){var t;(t=function(){var t,e,n,s;t=No,"sum"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(ms));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="SUM"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=tc())===o&&(t=ec())===o&&(t=function(){var t,e,n,s;t=No,"avg"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(Es));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="AVG"):(No=t,t=o)):(No=t,t=o);return t}());return t}())!==o&&Ic()!==o&&_c()!==o&&Ic()!==o&&(n=Ia())!==o&&Ic()!==o&&Tc()!==o&&Ic()!==o?((s=ti())===o&&(s=null),s!==o?(t,t=e={type:"aggr_func",name:e,args:{expr:n},over:s}):(No=t,t=o)):(No=t,t=o);return t}()),t}function ri(){var t,e,n,s;return t=No,Ri()!==o&&Ic()!==o?("update"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Or)),e!==o&&Ic()!==o&&(n=hc())!==o&&Ic()!==o&&_c()!==o&&Ic()!==o?((s=va())===o&&(s=null),s!==o&&Ic()!==o&&Tc()!==o?(t,t={type:"on update",keyword:n,parentheses:!0,expr:s}):(No=t,t=o)):(No=t,t=o)):(No=t,t=o),t===o&&(t=No,Ri()!==o&&Ic()!==o?("update"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Or)),e!==o&&Ic()!==o&&(n=hc())!==o?(t,t=function(r){return{type:"on update",keyword:r}}(n)):(No=t,t=o)):(No=t,t=o)),t}function ti(){var r,t,e,n;return r=No,Oi()!==o&&Ic()!==o&&(t=oa())!==o?(r,r={type:"window",as_window_specification:t}):(No=r,r=o),r===o&&(r=No,Oi()!==o&&Ic()!==o&&(t=_c())!==o&&Ic()!==o&&(e=la())!==o&&Ic()!==o?((n=fa())===o&&(n=null),n!==o&&Ic()!==o&&Tc()!==o?(r,r={partitionby:e,orderby:n}):(No=r,r=o)):(No=r,r=o),r===o&&(r=ri())),r}function ei(){var r,t,e,n,s,u,a,i;if(r=No,(t=Xa())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=mc())!==o&&(a=Ic())!==o&&(i=Xa())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=mc())!==o&&(a=Ic())!==o&&(i=Xa())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,r=t=function(r,t){let e=r;return null!==t&&t.forEach(r=>e=`${e}.${r[3]}`),e}(t,e)):(No=r,r=o)}else No=r,r=o;return r}function ni(){var t;return(t=function(){var t,e,n,s;t=No,"current_date"===r.substr(No,12).toLowerCase()?(e=r.substr(No,12),No+=12):(e=o,0===ko&&Do(Ks));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="CURRENT_DATE"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=function(){var t,e,n,s;t=No,"current_time"===r.substr(No,12).toLowerCase()?(e=r.substr(No,12),No+=12):(e=o,0===ko&&Do(zs));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="CURRENT_TIME"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=hc()),t}function si(){var t,e;return t=No,"year_month"===r.substr(No,10).toLowerCase()?(e=r.substr(No,10),No+=10):(e=o,0===ko&&Do(ie)),e===o&&("day_hour"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(ce)),e===o&&("day_minute"===r.substr(No,10).toLowerCase()?(e=r.substr(No,10),No+=10):(e=o,0===ko&&Do(le)),e===o&&("day_second"===r.substr(No,10).toLowerCase()?(e=r.substr(No,10),No+=10):(e=o,0===ko&&Do(fe)),e===o&&("day_microsecond"===r.substr(No,15).toLowerCase()?(e=r.substr(No,15),No+=15):(e=o,0===ko&&Do(pe)),e===o&&("hour_minute"===r.substr(No,11).toLowerCase()?(e=r.substr(No,11),No+=11):(e=o,0===ko&&Do(be)),e===o&&("hour_second"===r.substr(No,11).toLowerCase()?(e=r.substr(No,11),No+=11):(e=o,0===ko&&Do(de)),e===o&&("hour_microsecond"===r.substr(No,16).toLowerCase()?(e=r.substr(No,16),No+=16):(e=o,0===ko&&Do(ve)),e===o&&("minute_second"===r.substr(No,13).toLowerCase()?(e=r.substr(No,13),No+=13):(e=o,0===ko&&Do(he)),e===o&&("minute_microsecond"===r.substr(No,18).toLowerCase()?(e=r.substr(No,18),No+=18):(e=o,0===ko&&Do(ye)),e===o&&("second_microsecond"===r.substr(No,18).toLowerCase()?(e=r.substr(No,18),No+=18):(e=o,0===ko&&Do(we)),e===o&&("timezone_hour"===r.substr(No,13).toLowerCase()?(e=r.substr(No,13),No+=13):(e=o,0===ko&&Do(Le)),e===o&&("timezone_minute"===r.substr(No,15).toLowerCase()?(e=r.substr(No,15),No+=15):(e=o,0===ko&&Do(Ce)),e===o&&("century"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(me)),e===o&&("dayofweek"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do(Ee)),e===o&&("day"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(Ae)),e===o&&("date"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(_e)),e===o&&("decade"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Te)),e===o&&("dow"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(ge)),e===o&&("doy"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(je)),e===o&&("epoch"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(xe)),e===o&&("hour"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Ne)),e===o&&("isodow"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Se)),e===o&&("isoweek"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(Re)),e===o&&("isoyear"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(Ie)),e===o&&("microseconds"===r.substr(No,12).toLowerCase()?(e=r.substr(No,12),No+=12):(e=o,0===ko&&Do(ke)),e===o&&("millennium"===r.substr(No,10).toLowerCase()?(e=r.substr(No,10),No+=10):(e=o,0===ko&&Do(Oe)),e===o&&("milliseconds"===r.substr(No,12).toLowerCase()?(e=r.substr(No,12),No+=12):(e=o,0===ko&&Do($e)),e===o&&("minute"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Ue)),e===o&&("month"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Me)),e===o&&("quarter"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(De)),e===o&&("second"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Pe)),e===o&&("time"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Fe)),e===o&&("timezone"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(He)),e===o&&("week"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(We)),e===o&&("year"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Ye))))))))))))))))))))))))))))))))))))),e!==o&&(t,e=e),t=e}function oi(){var t;return(t=function(){var t,e,n,s;t=No,"cast"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Ss));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="CAST"):(No=t,t=o)):(No=t,t=o);return t}())===o&&(t=function(){var t,e,n,s;t=No,"safe_cast"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do(Rs));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="SAFE_CAST"):(No=t,t=o)):(No=t,t=o);return t}()),t}function ui(){var t;return(t=ci())===o&&(t=bi())===o&&(t=function(){var t,e;t=No,(e=function(){var t,e,n,s;t=No,"true"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(_n));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&(t,e={type:"bool",value:!0});(t=e)===o&&(t=No,(e=function(){var t,e,n,s;t=No,"false"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(gn));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&(t,e={type:"bool",value:!1}),t=e);return t}())===o&&(t=ii())===o&&(t=function(){var t,e,n,s,u,a;t=No,(e=bc())===o&&(e=lc())===o&&(e=dc())===o&&(e=fc());if(e!==o)if(Ic()!==o){if(n=No,39===r.charCodeAt(No)?(s="'",No++):(s=o,0===ko&&Do(cr)),s!==o){for(u=[],a=fi();a!==o;)u.push(a),a=fi();u!==o?(39===r.charCodeAt(No)?(a="'",No++):(a=o,0===ko&&Do(cr)),a!==o?n=s=[s,u,a]:(No=n,n=o)):(No=n,n=o)}else No=n,n=o;n!==o?(t,e=qe(e,n),t=e):(No=t,t=o)}else No=t,t=o;else No=t,t=o;if(t===o)if(t=No,(e=bc())===o&&(e=lc())===o&&(e=dc())===o&&(e=fc()),e!==o)if(Ic()!==o){if(n=No,34===r.charCodeAt(No)?(s='"',No++):(s=o,0===ko&&Do(Yt)),s!==o){for(u=[],a=li();a!==o;)u.push(a),a=li();u!==o?(34===r.charCodeAt(No)?(a='"',No++):(a=o,0===ko&&Do(Yt)),a!==o?n=s=[s,u,a]:(No=n,n=o)):(No=n,n=o)}else No=n,n=o;n!==o?(t,e=qe(e,n),t=e):(No=t,t=o)}else No=t,t=o;else No=t,t=o;return t}()),t}function ai(){var r,t,e,n,s,u,a,i;if(r=No,(t=ui())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=ui())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=ui())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,r=t=c(t,e)):(No=r,r=o)}else No=r,r=o;return r}function ii(){var t,e;return t=No,(e=function(){var t,e,n,s;t=No,"null"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(En));e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o);return t}())!==o&&(t,e={type:"null",value:null}),t=e}function ci(){var t,e,n,s,u,a;if(t=No,"r"===r.substr(No,1).toLowerCase()?(e=r.charAt(No),No++):(e=o,0===ko&&Do(Be)),e===o&&(e=null),e!==o)if(Ic()!==o){if(n=No,39===r.charCodeAt(No)?(s="'",No++):(s=o,0===ko&&Do(cr)),s!==o){for(u=[],a=fi();a!==o;)u.push(a),a=fi();u!==o?(39===r.charCodeAt(No)?(a="'",No++):(a=o,0===ko&&Do(cr)),a!==o?n=s=[s,u,a]:(No=n,n=o)):(No=n,n=o)}else No=n,n=o;n!==o?(t,t=e={type:e?"regex_string":"single_quote_string",value:n[1].join("")}):(No=t,t=o)}else No=t,t=o;else No=t,t=o;if(t===o)if(t=No,"r"===r.substr(No,1).toLowerCase()?(e=r.charAt(No),No++):(e=o,0===ko&&Do(Be)),e===o&&(e=null),e!==o)if(Ic()!==o){if(n=No,34===r.charCodeAt(No)?(s='"',No++):(s=o,0===ko&&Do(Yt)),s!==o){for(u=[],a=li();a!==o;)u.push(a),a=li();u!==o?(34===r.charCodeAt(No)?(a='"',No++):(a=o,0===ko&&Do(Yt)),a!==o?n=s=[s,u,a]:(No=n,n=o)):(No=n,n=o)}else No=n,n=o;n!==o?(t,t=e=function(r,t){return{type:r?"regex_string":"string",value:t[1].join("")}}(e,n)):(No=t,t=o)}else No=t,t=o;else No=t,t=o;return t}function li(){var t;return Ve.test(r.charAt(No))?(t=r.charAt(No),No++):(t=o,0===ko&&Do(Xe)),t===o&&(t=pi()),t}function fi(){var t;return Ke.test(r.charAt(No))?(t=r.charAt(No),No++):(t=o,0===ko&&Do(Qe)),t===o&&(t=pi()),t}function pi(){var t,e,n,s,u,a,i,c,l,f;return t=No,"\\'"===r.substr(No,2)?(e="\\'",No+=2):(e=o,0===ko&&Do(ze)),e!==o&&(t,e="\\'"),(t=e)===o&&(t=No,'\\"'===r.substr(No,2)?(e='\\"',No+=2):(e=o,0===ko&&Do(Ze)),e!==o&&(t,e='\\"'),(t=e)===o&&(t=No,"\\\\"===r.substr(No,2)?(e="\\\\",No+=2):(e=o,0===ko&&Do(Je)),e!==o&&(t,e="\\\\"),(t=e)===o&&(t=No,"\\/"===r.substr(No,2)?(e="\\/",No+=2):(e=o,0===ko&&Do(rn)),e!==o&&(t,e="\\/"),(t=e)===o&&(t=No,"\\b"===r.substr(No,2)?(e="\\b",No+=2):(e=o,0===ko&&Do(tn)),e!==o&&(t,e="\b"),(t=e)===o&&(t=No,"\\f"===r.substr(No,2)?(e="\\f",No+=2):(e=o,0===ko&&Do(en)),e!==o&&(t,e="\f"),(t=e)===o&&(t=No,"\\n"===r.substr(No,2)?(e="\\n",No+=2):(e=o,0===ko&&Do(nn)),e!==o&&(t,e="\n"),(t=e)===o&&(t=No,"\\r"===r.substr(No,2)?(e="\\r",No+=2):(e=o,0===ko&&Do(sn)),e!==o&&(t,e="\r"),(t=e)===o&&(t=No,"\\t"===r.substr(No,2)?(e="\\t",No+=2):(e=o,0===ko&&Do(on)),e!==o&&(t,e="\t"),(t=e)===o&&(t=No,"\\u"===r.substr(No,2)?(e="\\u",No+=2):(e=o,0===ko&&Do(un)),e!==o&&(n=Ci())!==o&&(s=Ci())!==o&&(u=Ci())!==o&&(a=Ci())!==o?(t,i=n,c=s,l=u,f=a,t=e=String.fromCharCode(parseInt("0x"+i+c+l+f))):(No=t,t=o),t===o&&(t=No,92===r.charCodeAt(No)?(e="\\",No++):(e=o,0===ko&&Do(an)),e!==o&&(t,e="\\"),(t=e)===o&&(t=No,"''"===r.substr(No,2)?(e="''",No+=2):(e=o,0===ko&&Do(cn)),e!==o&&(t,e="''"),(t=e)===o&&(t=No,'""'===r.substr(No,2)?(e='""',No+=2):(e=o,0===ko&&Do(ln)),e!==o&&(t,e='""'),(t=e)===o&&(t=No,"``"===r.substr(No,2)?(e="``",No+=2):(e=o,0===ko&&Do(fn)),e!==o&&(t,e="``"),t=e))))))))))))),t}function bi(){var r,t,e;return r=No,(t=di())!==o&&(r,t=(e=t)&&"bigint"===e.type?e:{type:"number",value:e}),r=t}function di(){var r,t,e,n;return r=No,(t=vi())!==o&&(e=hi())!==o&&(n=yi())!==o?(r,r=t={type:"bigint",value:t+e+n}):(No=r,r=o),r===o&&(r=No,(t=vi())!==o&&(e=hi())!==o?(r,r=t=function(r,t){const e=r+t;return Vc(r)?{type:"bigint",value:e}:parseFloat(e)}(t,e)):(No=r,r=o),r===o&&(r=No,(t=vi())!==o&&(e=yi())!==o?(r,r=t=function(r,t){return{type:"bigint",value:r+t}}(t,e)):(No=r,r=o),r===o&&(r=No,(t=vi())!==o&&(r,t=function(r){return Vc(r)?{type:"bigint",value:r}:parseFloat(r)}(t)),r=t))),r}function vi(){var t,e,n;return(t=wi())===o&&(t=Li())===o&&(t=No,45===r.charCodeAt(No)?(e="-",No++):(e=o,0===ko&&Do(Pt)),e===o&&(43===r.charCodeAt(No)?(e="+",No++):(e=o,0===ko&&Do(Dt))),e!==o&&(n=wi())!==o?(t,t=e=e+n):(No=t,t=o),t===o&&(t=No,45===r.charCodeAt(No)?(e="-",No++):(e=o,0===ko&&Do(Pt)),e===o&&(43===r.charCodeAt(No)?(e="+",No++):(e=o,0===ko&&Do(Dt))),e!==o&&(n=Li())!==o?(t,t=e=function(r,t){return r+t}(e,n)):(No=t,t=o))),t}function hi(){var t,e,n;return t=No,46===r.charCodeAt(No)?(e=".",No++):(e=o,0===ko&&Do(_)),e!==o&&(n=wi())!==o?(t,t=e="."+n):(No=t,t=o),t}function yi(){var t,e,n;return t=No,(e=function(){var t,e,n;t=No,wn.test(r.charAt(No))?(e=r.charAt(No),No++):(e=o,0===ko&&Do(Ln));e!==o?(Cn.test(r.charAt(No))?(n=r.charAt(No),No++):(n=o,0===ko&&Do(mn)),n===o&&(n=null),n!==o?(t,t=e=e+(null!==(s=n)?s:"")):(No=t,t=o)):(No=t,t=o);var s;return t}())!==o&&(n=wi())!==o?(t,t=e=e+n):(No=t,t=o),t}function wi(){var r,t,e;if(r=No,t=[],(e=Li())!==o)for(;e!==o;)t.push(e),e=Li();else t=o;return t!==o&&(r,t=t.join("")),r=t}function Li(){var t;return dn.test(r.charAt(No))?(t=r.charAt(No),No++):(t=o,0===ko&&Do(vn)),t}function Ci(){var t;return hn.test(r.charAt(No))?(t=r.charAt(No),No++):(t=o,0===ko&&Do(yn)),t}function mi(){var t,e,n,s;return t=No,"default"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(g)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Ei(){var t,e,n,s;return t=No,"to"===r.substr(No,2).toLowerCase()?(e=r.substr(No,2),No+=2):(e=o,0===ko&&Do(Tn)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Ai(){var t,e,n,s;return t=No,"drop"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(jn)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="DROP"):(No=t,t=o)):(No=t,t=o),t}function _i(){var t,e,n,s;return t=No,"partition"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do(Rn)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="PARTITION"):(No=t,t=o)):(No=t,t=o),t}function Ti(){var t,e,n,s;return t=No,"into"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(In)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function gi(){var t,e,n,s;return t=No,"from"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(kn)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function ji(){var t,e,n,s;return t=No,"set"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(w)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="SET"):(No=t,t=o)):(No=t,t=o),t}function xi(){var t,e,n,s;return t=No,"as"===r.substr(No,2).toLowerCase()?(e=r.substr(No,2),No+=2):(e=o,0===ko&&Do(ut)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Ni(){var t,e,n,s;return t=No,"table"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do($n)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="TABLE"):(No=t,t=o)):(No=t,t=o),t}function Si(){var t,e,n,s;return t=No,"tables"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Un)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="TABLES"):(No=t,t=o)):(No=t,t=o),t}function Ri(){var t,e,n,s;return t=No,"on"===r.substr(No,2).toLowerCase()?(e=r.substr(No,2),No+=2):(e=o,0===ko&&Do(Mn)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Ii(){var t,e,n,s;return t=No,"join"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Yn)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function ki(){var t,e,n,s;return t=No,"outer"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Gn)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Oi(){var t,e,n,s;return t=No,"over"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Bn)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function $i(){var t,e,n,s;return t=No,"values"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Xn)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Ui(){var t,e,n,s;return t=No,"using"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Kn)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Mi(){var t,e,n,s;return t=No,"with"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Tr)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Di(){var t,e,n,s;return t=No,"by"===r.substr(No,2).toLowerCase()?(e=r.substr(No,2),No+=2):(e=o,0===ko&&Do(dr)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Pi(){var t,e,n,s;return t=No,"having"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Jn)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function Fi(){var t,e,n,s;return t=No,"ordinal"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(es)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="ORDINAL"):(No=t,t=o)):(No=t,t=o),t}function Hi(){var t,e,n,s;return t=No,"safe_ordinal"===r.substr(No,12).toLowerCase()?(e=r.substr(No,12),No+=12):(e=o,0===ko&&Do(ns)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="SAFE_ORDINAL"):(No=t,t=o)):(No=t,t=o),t}function Wi(){var t,e,n,s;return t=No,"offset"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(os)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="OFFSET"):(No=t,t=o)):(No=t,t=o),t}function Yi(){var t,e,n,s;return t=No,"safe_offset"===r.substr(No,11).toLowerCase()?(e=r.substr(No,11),No+=11):(e=o,0===ko&&Do(us)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="SAFE_OFFSET"):(No=t,t=o)):(No=t,t=o),t}function Gi(){var t,e,n,s;return t=No,"desc"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(is)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="DESC"):(No=t,t=o)):(No=t,t=o),t}function Bi(){var t,e,n,s;return t=No,"all"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(cs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="ALL"):(No=t,t=o)):(No=t,t=o),t}function qi(){var t,e,n,s;return t=No,"distinct"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(ls)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="DISTINCT"):(No=t,t=o)):(No=t,t=o),t}function Vi(){var t,e,n,s;return t=No,"between"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(fs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="BETWEEN"):(No=t,t=o)):(No=t,t=o),t}function Xi(){var t,e,n,s;return t=No,"in"===r.substr(No,2).toLowerCase()?(e=r.substr(No,2),No+=2):(e=o,0===ko&&Do(ps)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="IN"):(No=t,t=o)):(No=t,t=o),t}function Ki(){var t,e,n,s;return t=No,"is"===r.substr(No,2).toLowerCase()?(e=r.substr(No,2),No+=2):(e=o,0===ko&&Do(bs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="IS"):(No=t,t=o)):(No=t,t=o),t}function Qi(){var t,e,n,s;return t=No,"like"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(ds)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="LIKE"):(No=t,t=o)):(No=t,t=o),t}function zi(){var t,e,n,s;return t=No,"exists"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(vs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="EXISTS"):(No=t,t=o)):(No=t,t=o),t}function Zi(){var t,e,n,s;return t=No,"not"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(Er)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="NOT"):(No=t,t=o)):(No=t,t=o),t}function Ji(){var t,e,n,s;return t=No,"and"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(hs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="AND"):(No=t,t=o)):(No=t,t=o),t}function rc(){var t,e,n,s;return t=No,"or"===r.substr(No,2).toLowerCase()?(e=r.substr(No,2),No+=2):(e=o,0===ko&&Do(ys)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="OR"):(No=t,t=o)):(No=t,t=o),t}function tc(){var t,e,n,s;return t=No,"max"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(Ls)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="MAX"):(No=t,t=o)):(No=t,t=o),t}function ec(){var t,e,n,s;return t=No,"min"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(Cs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="MIN"):(No=t,t=o)):(No=t,t=o),t}function nc(){var t,e,n,s;return t=No,"extract"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(As)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="EXTRACT"):(No=t,t=o)):(No=t,t=o),t}function sc(){var t,e,n,s;return t=No,"case"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Ts)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function oc(){var t,e,n,s;return t=No,"end"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(Ns)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?t=e=[e,n]:(No=t,t=o)):(No=t,t=o),t}function uc(){var t,e,n,s;return t=No,"array"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Is)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="ARRAY"):(No=t,t=o)):(No=t,t=o),t}function ac(){var t,e,n,s;return t=No,"decimal"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(Ms)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="DECIMAL"):(No=t,t=o)):(No=t,t=o),t}function ic(){var t,e,n,s;return t=No,"integer"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(Hs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="INTEGER"):(No=t,t=o)):(No=t,t=o),t}function cc(){var t,e,n,s;return t=No,"struct"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Gs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="STRUCT"):(No=t,t=o)):(No=t,t=o),t}function lc(){var t,e,n,s;return t=No,"date"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(_e)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="DATE"):(No=t,t=o)):(No=t,t=o),t}function fc(){var t,e,n,s;return t=No,"datetime"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(qs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="DATETIME"):(No=t,t=o)):(No=t,t=o),t}function pc(){var t,e,n,s;return t=No,"rows"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Et)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="ROWS"):(No=t,t=o)):(No=t,t=o),t}function bc(){var t,e,n,s;return t=No,"time"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Fe)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="TIME"):(No=t,t=o)):(No=t,t=o),t}function dc(){var t,e,n,s;return t=No,"timestamp"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do(Vs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="TIMESTAMP"):(No=t,t=o)):(No=t,t=o),t}function vc(){var t,e,n,s;return t=No,"interval"===r.substr(No,8).toLowerCase()?(e=r.substr(No,8),No+=8):(e=o,0===ko&&Do(Qs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="INTERVAL"):(No=t,t=o)):(No=t,t=o),t}function hc(){var t,e,n,s;return t=No,"current_timestamp"===r.substr(No,17).toLowerCase()?(e=r.substr(No,17),No+=17):(e=o,0===ko&&Do(Zs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="CURRENT_TIMESTAMP"):(No=t,t=o)):(No=t,t=o),t}function yc(){var t,e,n,s;return t=No,"column"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(uo)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="COLUMN"):(No=t,t=o)):(No=t,t=o),t}function wc(){var t,e,n,s;return t=No,"index"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(ao)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="INDEX"):(No=t,t=o)):(No=t,t=o),t}function Lc(){var t,e,n,s;return t=No,"key"===r.substr(No,3).toLowerCase()?(e=r.substr(No,3),No+=3):(e=o,0===ko&&Do(U)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="KEY"):(No=t,t=o)):(No=t,t=o),t}function Cc(){var t,e,n,s;return t=No,"comment"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(co)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="COMMENT"):(No=t,t=o)):(No=t,t=o),t}function mc(){var t;return 46===r.charCodeAt(No)?(t=".",No++):(t=o,0===ko&&Do(_)),t}function Ec(){var t;return 44===r.charCodeAt(No)?(t=",",No++):(t=o,0===ko&&Do(fo)),t}function Ac(){var t;return 42===r.charCodeAt(No)?(t="*",No++):(t=o,0===ko&&Do(Ft)),t}function _c(){var t;return 40===r.charCodeAt(No)?(t="(",No++):(t=o,0===ko&&Do(tt)),t}function Tc(){var t;return 41===r.charCodeAt(No)?(t=")",No++):(t=o,0===ko&&Do(et)),t}function gc(){var t;return 60===r.charCodeAt(No)?(t="<",No++):(t=o,0===ko&&Do(Ut)),t}function jc(){var t;return 62===r.charCodeAt(No)?(t=">",No++):(t=o,0===ko&&Do(kt)),t}function xc(){var t;return 91===r.charCodeAt(No)?(t="[",No++):(t=o,0===ko&&Do(po)),t}function Nc(){var t;return 93===r.charCodeAt(No)?(t="]",No++):(t=o,0===ko&&Do(bo)),t}function Sc(){var t;return 59===r.charCodeAt(No)?(t=";",No++):(t=o,0===ko&&Do(vo)),t}function Rc(){var t;return(t=function(){var t;return"||"===r.substr(No,2)?(t="||",No+=2):(t=o,0===ko&&Do(ho)),t}())===o&&(t=function(){var t;return"&&"===r.substr(No,2)?(t="&&",No+=2):(t=o,0===ko&&Do(yo)),t}()),t}function Ic(){var r,t;for(r=[],(t=Uc())===o&&(t=Oc());t!==o;)r.push(t),(t=Uc())===o&&(t=Oc());return r}function kc(){var r,t;if(r=[],(t=Uc())===o&&(t=Oc()),t!==o)for(;t!==o;)r.push(t),(t=Uc())===o&&(t=Oc());else r=o;return r}function Oc(){var t;return(t=function(){var t,e,n,s,u,a;t=No,"/*"===r.substr(No,2)?(e="/*",No+=2):(e=o,0===ko&&Do(wo));if(e!==o){for(n=[],s=No,u=No,ko++,"*/"===r.substr(No,2)?(a="*/",No+=2):(a=o,0===ko&&Do(Lo)),ko--,a===o?u=void 0:(No=u,u=o),u!==o&&(a=$c())!==o?s=u=[u,a]:(No=s,s=o);s!==o;)n.push(s),s=No,u=No,ko++,"*/"===r.substr(No,2)?(a="*/",No+=2):(a=o,0===ko&&Do(Lo)),ko--,a===o?u=void 0:(No=u,u=o),u!==o&&(a=$c())!==o?s=u=[u,a]:(No=s,s=o);n!==o?("*/"===r.substr(No,2)?(s="*/",No+=2):(s=o,0===ko&&Do(Lo)),s!==o?t=e=[e,n,s]:(No=t,t=o)):(No=t,t=o)}else No=t,t=o;return t}())===o&&(t=function(){var t,e,n,s,u,a;t=No,"--"===r.substr(No,2)?(e="--",No+=2):(e=o,0===ko&&Do(Co));if(e!==o){for(n=[],s=No,u=No,ko++,a=Mc(),ko--,a===o?u=void 0:(No=u,u=o),u!==o&&(a=$c())!==o?s=u=[u,a]:(No=s,s=o);s!==o;)n.push(s),s=No,u=No,ko++,a=Mc(),ko--,a===o?u=void 0:(No=u,u=o),u!==o&&(a=$c())!==o?s=u=[u,a]:(No=s,s=o);n!==o?t=e=[e,n]:(No=t,t=o)}else No=t,t=o;return t}())===o&&(t=function(){var t,e,n,s,u,a;t=No,35===r.charCodeAt(No)?(e="#",No++):(e=o,0===ko&&Do(mo));if(e!==o){for(n=[],s=No,u=No,ko++,a=Mc(),ko--,a===o?u=void 0:(No=u,u=o),u!==o&&(a=$c())!==o?s=u=[u,a]:(No=s,s=o);s!==o;)n.push(s),s=No,u=No,ko++,a=Mc(),ko--,a===o?u=void 0:(No=u,u=o),u!==o&&(a=$c())!==o?s=u=[u,a]:(No=s,s=o);n!==o?t=e=[e,n]:(No=t,t=o)}else No=t,t=o;return t}()),t}function $c(){var t;return r.length>No?(t=r.charAt(No),No++):(t=o,0===ko&&Do(Eo)),t}function Uc(){var t;return Ao.test(r.charAt(No))?(t=r.charAt(No),No++):(t=o,0===ko&&Do(_o)),t}function Mc(){var t,e;if((t=function(){var t,e;t=No,ko++,r.length>No?(e=r.charAt(No),No++):(e=o,0===ko&&Do(Eo));ko--,e===o?t=void 0:(No=t,t=o);return t}())===o)if(t=[],pn.test(r.charAt(No))?(e=r.charAt(No),No++):(e=o,0===ko&&Do(bn)),e!==o)for(;e!==o;)t.push(e),pn.test(r.charAt(No))?(e=r.charAt(No),No++):(e=o,0===ko&&Do(bn));else t=o;return t}function Dc(){var r,t,e,n,s,u,a,i;if(r=No,(t=Pc())!==o){for(e=[],n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=Pc())!==o?n=s=[s,u,a,i]:(No=n,n=o);n!==o;)e.push(n),n=No,(s=Ic())!==o&&(u=Ec())!==o&&(a=Ic())!==o&&(i=Pc())!==o?n=s=[s,u,a,i]:(No=n,n=o);e!==o?(r,r=t=c(t,e)):(No=r,r=o)}else No=r,r=o;return r}function Pc(){var r,t,e,n;return r=No,t=No,(e=Xa())!==o?(No,(n=(n=!0===Gc[e.toUpperCase()])?o:void 0)!==o?(t,t=e=e):(No=t,t=o)):(No=t,t=o),t===o&&(t=null),t!==o&&(e=Ic())!==o&&(n=Fc())!==o?(r,r=t=function(r,t){return{field_name:r,field_type:t}}(t,n)):(No=r,r=o),r}function Fc(){var t;return(t=Wc())===o&&(t=Hc())===o&&(t=function(){var t,e,n,s,u,a,i,c,l,f;if(t=No,(e=function(){var t,e,n,s;return t=No,"string"===r.substr(No,6).toLowerCase()?(e=r.substr(No,6),No+=6):(e=o,0===ko&&Do(Ys)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="STRING"):(No=t,t=o)):(No=t,t=o),t}())!==o){if(n=[],s=No,(u=Ic())!==o)if((a=_c())!==o)if((i=Ic())!==o){if(c=[],dn.test(r.charAt(No))?(l=r.charAt(No),No++):(l=o,0===ko&&Do(vn)),l!==o)for(;l!==o;)c.push(l),dn.test(r.charAt(No))?(l=r.charAt(No),No++):(l=o,0===ko&&Do(vn));else c=o;c!==o&&(l=Ic())!==o&&(f=Tc())!==o?s=u=[u,a,i,c,l,f]:(No=s,s=o)}else No=s,s=o;else No=s,s=o;else No=s,s=o;for(;s!==o;)if(n.push(s),s=No,(u=Ic())!==o)if((a=_c())!==o)if((i=Ic())!==o){if(c=[],dn.test(r.charAt(No))?(l=r.charAt(No),No++):(l=o,0===ko&&Do(vn)),l!==o)for(;l!==o;)c.push(l),dn.test(r.charAt(No))?(l=r.charAt(No),No++):(l=o,0===ko&&Do(vn));else c=o;c!==o&&(l=Ic())!==o&&(f=Tc())!==o?s=u=[u,a,i,c,l,f]:(No=s,s=o)}else No=s,s=o;else No=s,s=o;else No=s,s=o;n!==o?(t,e=function(r,t){const e={dataType:r};return t&&0!==t.length?{...e,length:parseInt(t[3].join(""),10),parentheses:!0}:e}(e,n),t=e):(No=t,t=o)}else No=t,t=o;return t}())===o&&(t=function(){var t,e;t=No,(e=function(){var t,e,n,s;return t=No,"numeric"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(Us)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="NUMERIC"):(No=t,t=o)):(No=t,t=o),t}())===o&&(e=function(){var t,e,n,s;return t=No,"int64"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(Fs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="INT64"):(No=t,t=o)):(No=t,t=o),t}())===o&&(e=function(){var t,e,n,s;return t=No,"float64"===r.substr(No,7).toLowerCase()?(e=r.substr(No,7),No+=7):(e=o,0===ko&&Do(Bs)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="FLOAT64"):(No=t,t=o)):(No=t,t=o),t}())===o&&(e=ic());e!==o&&(t,e=To(e));return t=e}())===o&&(t=function(){var t,e,n,s;t=No,(e=lc())===o&&(e=fc())===o&&(e=bc())===o&&(e=dc());if(e!==o)if(Ic()!==o)if(_c()!==o)if(Ic()!==o){if(n=[],dn.test(r.charAt(No))?(s=r.charAt(No),No++):(s=o,0===ko&&Do(vn)),s!==o)for(;s!==o;)n.push(s),dn.test(r.charAt(No))?(s=r.charAt(No),No++):(s=o,0===ko&&Do(vn));else n=o;n!==o&&(s=Ic())!==o&&Tc()!==o?(t,e={dataType:e,length:parseInt(n.join(""),10),parentheses:!0},t=e):(No=t,t=o)}else No=t,t=o;else No=t,t=o;else No=t,t=o;else No=t,t=o;t===o&&(t=No,(e=lc())===o&&(e=fc())===o&&(e=bc())===o&&(e=dc()),e!==o&&(t,e=To(e)),t=e);return t}())===o&&(t=function(){var t,e,n,s,u,a,i,c;if(t=No,e=No,(n=function(){var t,e,n,s;return t=No,"bytes"===r.substr(No,5).toLowerCase()?(e=r.substr(No,5),No+=5):(e=o,0===ko&&Do(ks)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="BYTES"):(No=t,t=o)):(No=t,t=o),t}())!==o)if((s=_c())!==o)if((u=Ic())!==o){if(a=[],dn.test(r.charAt(No))?(i=r.charAt(No),No++):(i=o,0===ko&&Do(vn)),i!==o)for(;i!==o;)a.push(i),dn.test(r.charAt(No))?(i=r.charAt(No),No++):(i=o,0===ko&&Do(vn));else a=o;a===o&&("MAX"===r.substr(No,3)?(a="MAX",No+=3):(a=o,0===ko&&Do(go)),a===o&&("max"===r.substr(No,3)?(a="max",No+=3):(a=o,0===ko&&Do(jo)))),a!==o&&(i=Ic())!==o&&(c=Tc())!==o?e=n=[n,s,u,a,i,c]:(No=e,e=o)}else No=e,e=o;else No=e,e=o;else No=e,e=o;e===o&&(e=function(){var t,e,n,s;return t=No,"bool"===r.substr(No,4).toLowerCase()?(e=r.substr(No,4),No+=4):(e=o,0===ko&&Do(Os)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="BOOL"):(No=t,t=o)):(No=t,t=o),t}())===o&&(e=function(){var t,e,n,s;return t=No,"geography"===r.substr(No,9).toLowerCase()?(e=r.substr(No,9),No+=9):(e=o,0===ko&&Do($s)),e!==o?(n=No,ko++,s=Ka(),ko--,s===o?n=void 0:(No=n,n=o),n!==o?(t,t=e="GEOGRAPHY"):(No=t,t=o)):(No=t,t=o),t}());e!==o&&(t,e=To(e));return t=e}()),t}function Hc(){var r,t,e;return r=No,(t=uc())!==o&&Ic()!==o&&gc()!==o&&Ic()!==o&&(e=Dc())!==o&&Ic()!==o&&jc()!==o?(r,r=t=xo(t,e)):(No=r,r=o),r}function Wc(){var r,t,e;return r=No,(t=cc())!==o&&Ic()!==o&&gc()!==o&&Ic()!==o&&(e=Dc())!==o&&Ic()!==o&&jc()!==o?(r,r=t=xo(t,e)):(No=r,r=o),r}const Yc={ARRAY:!0,ALTER:!0,ALL:!0,ADD:!0,AND:!0,AS:!0,ASC:!0,BETWEEN:!0,BY:!0,CALL:!0,CASE:!0,CREATE:!0,CROSS:!0,CONTAINS:!0,CURRENT_DATE:!0,CURRENT_TIME:!0,CURRENT_TIMESTAMP:!0,CURRENT_USER:!0,DELETE:!0,DESC:!0,DISTINCT:!0,DROP:!0,ELSE:!0,END:!0,EXISTS:!0,EXPLAIN:!0,FALSE:!0,FROM:!0,FULL:!0,FOR:!0,GROUP:!0,HAVING:!0,IN:!0,INNER:!0,INSERT:!0,INTERSECT:!0,INTO:!0,IS:!0,JOIN:!0,JSON:!0,KEY:!1,LEFT:!0,LIKE:!0,LIMIT:!0,LOW_PRIORITY:!0,NOT:!0,NULL:!0,ON:!0,OR:!0,ORDER:!0,OUTER:!0,PARTITION:!0,PIVOT:!0,RECURSIVE:!0,RENAME:!0,READ:!0,RIGHT:!1,SELECT:!0,SESSION_USER:!0,SET:!0,SHOW:!0,SYSTEM_USER:!0,TABLE:!0,THEN:!0,TRUE:!0,TRUNCATE:!0,UNION:!0,UPDATE:!0,USING:!0,VALUES:!0,WINDOW:!0,WITH:!0,WHEN:!0,WHERE:!0,WRITE:!0,GLOBAL:!0,LOCAL:!0,PERSIST:!0,PERSIST_ONLY:!0,UNNEST:!0},Gc={BOOL:!0,BYTE:!0,DATE:!0,DATETIME:!0,FLOAT64:!0,INT64:!0,NUMERIC:!0,STRING:!0,TIME:!0,TIMESTAMP:!0,ARRAY:!0,STRUCT:!0};function Bc(r,t){return{type:"unary_expr",operator:r,expr:t}}function qc(r,t,e){return{type:"binary_expr",operator:r,left:t,right:e}}function Vc(r){const t=n(Number.MAX_SAFE_INTEGER);return!(n(r)<t)}function Xc(r,t,e=3){const n=[r];for(let r=0;r<t.length;r++)delete t[r][e].tableList,delete t[r][e].columnList,n.push(t[r][e]);return n}function Kc(r,t){let e=r;for(let r=0;r<t.length;r++)e=qc(t[r][1],e,t[r][3]);return e}function Qc(r){const t=tl[r];return t||(r||null)}function zc(r){const t=new Set;for(let e of r.keys()){const r=e.split("::");if(!r){t.add(e);break}r&&r[1]&&(r[1]=Qc(r[1])),t.add(r.join("::"))}return Array.from(t)}let Zc=[];const Jc=new Set,rl=new Set,tl={};if((e=a())!==o&&No===r.length)return e;throw e!==o&&No<r.length&&Do({type:"end"}),Po(Io,Ro<r.length?r.charAt(Ro):null,Ro<r.length?Mo(Ro,Ro+1):Mo(Ro,Ro))}}},function(r,t,e){r.exports=e(3)},function(r,t){r.exports=require("big-integer")},function(r,t,e){"use strict";e.r(t),e.d(t,"Parser",(function(){return Yr})),e.d(t,"util",(function(){return n}));var n={};function s(r){if(!r)return[];const{keyword:t,type:e}=r;return[t.toUpperCase(),er(e)]}function o(r){if(!r)return;const{type:t,expr:e,symbol:n}=r,o=t.toUpperCase(),u=[];switch(u.push(o),o){case"KEY_BLOCK_SIZE":n&&u.push(n),u.push(sr(e));break;case"BTREE":case"HASH":u.length=0,u.push(...s(r));break;case"WITH PARSER":u.push(e);break;case"VISIBLE":case"INVISIBLE":break;case"COMMENT":u.shift(),u.push(cr(r));break;case"DATA_COMPRESSION":u.push(n,er(e.value),ur(e.on));break;default:u.push(n,sr(e))}return u.filter(nr).join(" ")}function u(r){return r?r.map(o):[]}function a(r){const{constraint_type:t,index_type:e,index_options:n=[],definition:o,on:a,with:i}=r,c=[];if(c.push(...s(e)),o&&o.length){const r="CHECK"===er(t)?`(${Pr(o[0])})`:`(${o.map(r=>Pr(r)).join(", ")})`;c.push(r)}return c.push(u(n).join(" ")),i&&c.push(`WITH (${u(i).join(", ")})`),a&&c.push(`ON [${a}]`),c}function i(r){if(!r)return;const{constraint:t,constraint_type:e,enforced:n,index:s,keyword:o,reference_definition:u}=r,i=[],{database:c}=Q();i.push(er(o)),i.push(rr(t));let l=er(e);return"sqlite"===c&&"UNIQUE KEY"===l&&(l="UNIQUE"),i.push(l),i.push("sqlite"!==c&&rr(s)),i.push(...a(r)),i.push(...M(u)),i.push(er(n)),i.filter(nr).join(" ")}function c(r){if("string"==typeof r)return r;const{window_specification:t}=r;return`(${function(r){const{name:t,partitionby:e,orderby:n,window_frame_clause:s}=r;return[t,Hr(e,"partition by"),Hr(n,"order by"),er(s)].filter(nr).join(" ")}(t)})`}function l(r){const{name:t,as_window_specification:e}=r;return`${t} AS ${c(e)}`}function f(r){const{args:t,name:e,consider_nulls:n=""}=r,s=t?Pr(t).join(", "):"",o=function(r){switch(er(r)){case"NTH_VALUE":case"LEAD":case"LAG":return!1;default:return!0}}(e);return[e,"(",s,!o&&")",n&&" ",n,o&&")"].filter(nr).join("")}function p(r){if(!r)return;const{as_window_specification:t,expr:e,keyword:n,type:s,parentheses:o}=r,u=er(s);if("WINDOW"===u)return"OVER "+c(t);if("ON UPDATE"===u){let r=`${er(s)} ${er(n)}`;const t=Pr(e)||[];return o&&(r=`${r}(${t.join(", ")})`),r}throw new Error("unknown over type")}function b(r){const{arrows:t=[],collate:e,target:n,expr:s,keyword:o,symbol:u,as:a,properties:i=[]}=r,{length:c,dataType:l,parentheses:f,quoted:p,scale:b,suffix:d}=n;let v="";null!=c&&(v=b?`${c}, ${b}`:c),f&&(v=`(${v})`),d&&d.length&&(v+=" "+d.join(" "));let h=Pr(s),y="::",w="";"as"===u&&(h=`${er(o)}(${h}`,w=")",y=` ${u.toUpperCase()} `),w+=t.map((r,t)=>B(r,sr,i[t])).join(" "),a&&(w+=" AS "+rr(a)),e&&(w+=" "+tr(e).join(" "));return[h,y,p,l,p,function(r){if(!r||!r.array)return"";switch(r.array){case"one":return"[]";case"two":return"[][]"}}(n),v,w].filter(nr).join("")}function d(r){const{args:t,name:e,args_parentheses:n,parentheses:s,over:o,collate:u,suffix:a}=r,i=tr(u).join(" "),c=p(o),l=Pr(a);if(!t)return[e,c].filter(nr).join(" ");let f=r.separator||", ";"TRIM"===er(e)&&(f=" ");let b=[e];return b.push(!1===n?" ":"("),b.push(Pr(t).join(f)),!1!==n&&b.push(")"),b=[b.join(""),l].filter(nr).join(" "),[s?`(${b})`:b,i,c].filter(nr).join(" ")}function v(r){let t=r.operator||r.op,e=Pr(r.right),n=!1;if(Array.isArray(e)){switch(t){case"=":t="IN";break;case"!=":t="NOT IN";break;case"BETWEEN":case"NOT BETWEEN":n=!0,e=`${e[0]} AND ${e[1]}`}n||(e=`(${e.join(", ")})`)}const s=r.right.escape||{},o=[Pr(r.left),t,e,er(s.type),Pr(s.value)].filter(nr).join(" ");return r.parentheses?`(${o})`:o}function h(r){return r?[er(r.prefix),Pr(r.value),er(r.suffix)]:[]}function y(r){return r?r.fetch?function(r){const{fetch:t,offset:e}=r;return[...h(e),...h(t)].filter(nr).join(" ")}(r):function(r){const{seperator:t,value:e}=r;return 1===e.length&&"offset"===t?q("OFFSET",Pr(e[0])):q("LIMIT",e.map(Pr).join(`${"offset"===t?" ":""}${er(t)} `))}(r):""}function w(r){if(!r||0===r.length)return;return`WITH ${r[0].recursive?"RECURSIVE ":""}${r.map(r=>{const{name:t,stmt:e,columns:n}=r,s=Array.isArray(n)?`(${n.map($).join(", ")})`:"";return`${"default"===t.type?rr(t.value):sr(t)}${s} AS (${Pr(e)})`}).join(", ")}`}function L(r){if(!r)return;const{position:t}=r;if(!t)return;const{keyword:e,expr:n}=r,s=[],o=er(e);switch(o){case"VAR":s.push(n.map(Dr).join(", "));break;default:s.push(o,"string"==typeof n?rr(n):Pr(n))}return s.filter(nr).join(" ")}function C(r){const{as_struct_val:t,columns:e,distinct:n,for:s,from:o,for_sys_time_as_of:u={},locking_read:a,groupby:i,having:c,into:l={},limit:f,options:p,orderby:b,parentheses_symbol:d,qualify:v,top:h,window:C,with:m,where:E}=r,A=[w(m),"SELECT",er(t)];A.push(Z(h)),Array.isArray(p)&&A.push(p.join(" ")),A.push(function(r){if(!r)return;if("string"==typeof r)return r;const{type:t,columns:e}=r,n=[er(t)];return e&&n.push(`(${e.map($).join(", ")})`),n.filter(nr).join(" ")}(n),W(e,o));const{position:_}=l;let T="";_&&(T=B("INTO",L,l)),"column"===_&&A.push(T),A.push(B("FROM",k,o)),"from"===_&&A.push(T);const{keyword:g,expr:j}=u||{};A.push(B(g,Pr,j)),A.push(B("WHERE",Pr,E)),A.push(q("GROUP BY",Fr(i).join(", "))),A.push(B("HAVING",Pr,c)),A.push(B("QUALIFY",Pr,v)),A.push(B("WINDOW",Pr,C)),A.push(Hr(b,"order by")),A.push(y(f)),A.push(er(a)),"end"===_&&A.push(T),A.push(function(r){if(!r)return;const{expr:t,keyword:e,type:n}=r,s=[er(n),er(e)];return t?`${s.join(" ")}(${Pr(t)})`:s.join(" ")}(s));const x=A.filter(nr).join(" ");return d?`(${x})`:x}function m(r){if(!r||0===r.length)return"";const t=[];for(const e of r){const{table:r,column:n,value:s}=e,o=[[r,n].filter(nr).map(r=>rr(r)).join(".")];let u="";s&&(u=Pr(s),o.push("=",u)),t.push(o.filter(nr).join(" "))}return t.join(", ")}function E(r){if("select"===r.type)return C(r);return`(${r.map(Pr).join("), (")})`}function A(r){if(!r)return"";const t=["PARTITION","("];if(Array.isArray(r))t.push(r.map(rr).join(", "));else{const{value:e}=r;t.push(e.map(Pr).join(", "))}return t.push(")"),t.filter(nr).join("")}function _(r){if(!r)return"";const{type:t}=r;switch(t){case"column":return`(${r.expr.map($).join(", ")})`}}function T(r){const{expr:t,keyword:e}=r,{type:n}=t,s=[er(e)];switch(n){case"origin":s.push(sr(t));break;case"update":s.push("UPDATE",B("SET",m,t.set),B("WHERE",Pr,t.where))}return s.filter(nr).join(" ")}function g(r){if(!r)return"";const{action:t,target:e}=r;return[_(e),T(t)].filter(nr).join(" ")}function j(r){const{table:t,type:e,prefix:n="into",columns:s,conflict:o,values:u,where:a,on_duplicate_update:i,partition:c,returning:l,set:f}=r,{keyword:p,set:b}=i||{},d=[er(e),er(n),k(t),A(c)];return Array.isArray(s)&&d.push(`(${s.map(rr).join(", ")})`),d.push(B(Array.isArray(u)?"VALUES":"",E,u)),d.push(B("ON CONFLICT",g,o)),d.push(B("SET",m,f)),d.push(B("WHERE",Pr,a)),d.push(fr(l)),d.push(B(p,m,b)),d.filter(nr).join(" ")}function x(r){const{expr:t,unit:e}=r;return["INTERVAL",Pr(t),er(e)].filter(nr).join(" ")}function N(r){const{type:t,as:e,expr:n,with_offset:s}=r;return[`${er(t)}(${n&&Pr(n)||""})`,B("AS",rr,e),B(er(s&&s.keyword),rr,s&&s.as)].filter(nr).join(" ")}function S(r){if(!r)return;const{type:t}=r;switch(t){case"pivot":case"unpivot":return function(r){const{as:t,column:e,expr:n,in_expr:s,type:o}=r,u=[Pr(n),"FOR",$(e),v(s)],a=[`${er(o)}(${u.join(" ")})`];return t&&a.push("AS",rr(t)),a.join(" ")}(r);default:return""}}function R(r){if(!r)return;const{keyword:t,expr:e,index:n,index_columns:s,parentheses:o,prefix:u}=r,a=[];switch(t.toLowerCase()){case"forceseek":a.push(er(t),"("+rr(n),`(${s.map(Pr).filter(nr).join(", ")}))`);break;case"spatial_window_max_cells":a.push(er(t),"=",Pr(e));break;case"index":a.push(er(u),er(t),o?`(${e.map(rr).join(", ")})`:"= "+rr(e));break;default:a.push(Pr(e))}return a.filter(nr).join(" ")}function I(r){if("UNNEST"===er(r.type))return N(r);const{table:t,db:e,as:n,expr:s,operator:o,prefix:u,schema:a,server:i,tablesample:c,table_hint:l}=r,f=rr(i),p=rr(e),b=rr(a);let d=t&&rr(t);if(s){switch(s.type){case"values":const{parentheses:r,values:t,prefix:e}=s,n=[r&&"(","",r&&")"];let o=E(t);e&&(o=o.split("(").slice(1).map(r=>`${er(e)}(${r}`).join("")),n[1]="VALUES "+o,d=n.filter(nr).join("");break;case"tumble":d=function(r){if(!r)return"";const{data:t,timecol:e,size:n}=r;return["TABLE(TUMBLE(TABLE",[rr(t.db),rr(t.table)].filter(nr).join("."),`DESCRIPTOR(${$(e)})`,x(n)+"))"].filter(nr).join(" ")}(s);break;default:d=Pr(s)}}d=[er(u),d].filter(nr).join(" ");let v=[f,p,b,d].filter(nr).join(".");r.parentheses&&(v=`(${v})`);const h=[v];if(c){const r=["TABLESAMPLE",Pr(c.expr),sr(c.repeatable)].filter(nr).join(" ");h.push(r)}return h.push(B("AS",rr,n),S(o)),l&&h.push(er(l.keyword),`(${l.expr.map(R).filter(nr).join(", ")})`),h.filter(nr).join(" ")}function k(r){if(!r)return"";if(!Array.isArray(r)){const{expr:t,parentheses:e}=r,n=k(t);return e?`(${n})`:n}const t=r[0],e=[];if("dual"===t.type)return"DUAL";e.push(I(t));for(let t=1;t<r.length;++t){const n=r[t],{on:s,using:o,join:u}=n,a=[];a.push(u?" "+er(u):","),a.push(I(n)),a.push(B("ON",Pr,s)),o&&a.push(`USING (${o.map(rr).join(", ")})`),e.push(a.filter(nr).join(" "))}return e.filter(nr).join("")}function O(r){const{keyword:t,symbol:e,value:n}=r,s=[t.toUpperCase()];e&&s.push(e);let o=n;switch(t){case"partition by":case"default collate":o=Pr(n);break;case"options":o=`(${n.map(r=>[r.keyword,r.symbol,Pr(r.value)].join(" ")).join(", ")})`;break;case"cluster by":o=n.map(Pr).join(", ")}return s.push(o),s.join(" ")}function $(r){const{array_index:t,arrows:e=[],as:n,collate:s,column:o,db:u,isDual:a,schema:i,table:c,parentheses:l,properties:f,suffix:p,order_by:b,subFields:d=[]}=r;let v="*"===o?"*":function(r,t){if("string"==typeof r)return rr(r,t);const{expr:e,offset:n,suffix:s}=r,o=n&&n.map(r=>["[",r.name,""+(r.name?"(":""),sr(r.value),""+(r.name?")":""),"]"].filter(nr).join("")).join("");return[Pr(e),o,s].filter(nr).join("")}(o,a);const h=[i,u,c].filter(nr).map(r=>""+rr(r)).join(".");h&&(v=`${h}.${v}`),t&&(v=`${v}[${sr(t.index)}]`,t.property&&(v=`${v}.${sr(t.property)}`)),v=[v,...d].join(".");const y=[v,B("AS",Pr,n),e.map((r,t)=>B(r,sr,f[t])).join(" ")];s&&y.push(tr(s).join(" ")),y.push(er(p)),y.push(er(b));const w=y.filter(nr).join(" ");return l?`(${w})`:w}function U(r){const{dataType:t,length:e,suffix:n,scale:s,expr:o}=r||{};let u=t;return null!=e&&(u+=`(${[e,s].filter(r=>null!=r).join(", ")})`),n&&n.length&&(u+=" "+n.join(" ")),o&&(u+=Pr(o)),u}function M(r){const t=[];if(!r)return t;const{definition:e,keyword:n,match:s,table:o,on_action:u}=r;return t.push(er(n)),t.push(k(o)),t.push(e&&`(${e.map(r=>Pr(r)).join(", ")})`),t.push(er(s)),u.map(r=>t.push(er(r.type),Pr(r.value))),t.filter(nr)}function D(r){const{column:t,collate:e,nulls:n,opclass:s,order_by:o}=r;return[Pr("string"==typeof t?{type:"column_ref",table:r.table,column:t}:r),B(e&&e.type,rr,e&&e.value),s,er(o),er(n)].filter(nr).join(" ")}function P(r){const t=[],e=$(r.column),n=U(r.definition);t.push(e),t.push(n);const s=function(r){const t=[],{nullable:e,character_set:n,check:s,comment:o,collate:u,storage:a,default_val:c,auto_increment:l,unique:f,primary_key:p,column_format:b,reference_definition:d}=r;if(t.push(er(e&&e.value)),c){const{type:r,value:e}=c;t.push(r.toUpperCase(),Pr(e))}const{database:v}=Q();return t.push(i(s)),t.push(br(l),er(p),er(f),cr(o)),t.push(...tr(n)),"sqlite"!==v&&t.push(...tr(u)),t.push(...tr(b)),t.push(...tr(a)),t.push(...M(d)),t.filter(nr).join(" ")}(r);t.push(s);const o=function(r){if(!r)return;return[er(r.value),`(${Pr(r.expr)})`,er(r.storage_type)].filter(nr).join(" ")}(r.generated);return t.push(o),t.filter(nr).join(" ")}function F(r){return r?["AS",/^(`?)[a-z_][0-9a-z_]*(`?)$/i.test(r)?rr(r):J(r)].join(" "):""}function H(r,t){const{expr:e,type:n}=r;if("cast"===n)return b(r);t&&(e.isDual=t);let s=Pr(e);const{expr_list:o}=r;if(o){const r=[s],e=o.map(r=>H(r,t)).join(", ");return r.push([er(n),n&&"(",e,n&&")"].filter(nr).join("")),r.filter(nr).join(" ")}return e.parentheses&&Reflect.has(e,"array_index")&&(s=`(${s})`),e.array_index&&"column_ref"!==e.type&&(s=`${s}[${sr(e.array_index.index)}]`),[s,F(r.as)].filter(nr).join(" ")}function W(r,t){if(!r||"*"===r)return r;const e=function(r){const t=Array.isArray(r)&&r[0];return!(!t||"dual"!==t.type)}(t);return r.map(r=>H(r,e)).join(", ")}e.r(n),e.d(n,"arrayStructTypeToSQL",(function(){return ir})),e.d(n,"autoIncrementToSQL",(function(){return br})),e.d(n,"columnOrderListToSQL",(function(){return dr})),e.d(n,"commonKeywordArgsToSQL",(function(){return pr})),e.d(n,"commonOptionConnector",(function(){return B})),e.d(n,"connector",(function(){return q})),e.d(n,"commonTypeValue",(function(){return tr})),e.d(n,"commentToSQL",(function(){return cr})),e.d(n,"createBinaryExpr",(function(){return X})),e.d(n,"createValueExpr",(function(){return V})),e.d(n,"dataTypeToSQL",(function(){return ar})),e.d(n,"DEFAULT_OPT",(function(){return Y})),e.d(n,"escape",(function(){return K})),e.d(n,"literalToSQL",(function(){return sr})),e.d(n,"columnIdentifierToSql",(function(){return J})),e.d(n,"getParserOpt",(function(){return Q})),e.d(n,"identifierToSql",(function(){return rr})),e.d(n,"onPartitionsToSQL",(function(){return ur})),e.d(n,"replaceParams",(function(){return or})),e.d(n,"returningToSQL",(function(){return fr})),e.d(n,"hasVal",(function(){return nr})),e.d(n,"setParserOpt",(function(){return z})),e.d(n,"toUpper",(function(){return er})),e.d(n,"topToSQL",(function(){return Z})),e.d(n,"triggerEventToSQL",(function(){return lr}));const Y={database:"bigquery",type:"table",parseOptions:{}};let G=Y;function B(r,t,e){if(e)return r?`${r.toUpperCase()} ${t(e)}`:t(e)}function q(r,t){if(t)return`${r.toUpperCase()} ${t}`}function V(r){const t=typeof r;if(Array.isArray(r))return{type:"expr_list",value:r.map(V)};if(null===r)return{type:"null",value:null};switch(t){case"boolean":return{type:"bool",value:r};case"string":return{type:"string",value:r};case"number":return{type:"number",value:r};default:throw new Error(`Cannot convert value "${t}" to SQL`)}}function X(r,t,e){const n={operator:r,type:"binary_expr"};return n.left=t.type?t:V(t),"BETWEEN"===r||"NOT BETWEEN"===r?(n.right={type:"expr_list",value:[V(e[0]),V(e[1])]},n):(n.right=e.type?e:V(e),n)}function K(r){return r}function Q(){return G}function z(r){G=r}function Z(r){if(!r)return;const{value:t,percent:e,parentheses:n}=r,s="TOP "+(n?`(${t})`:t);return e?`${s} ${e.toUpperCase()}`:s}function J(r){const{database:t}=Q();if(r)switch(t&&t.toLowerCase()){case"postgresql":case"heavydb":case"db2":case"snowflake":case"noql":return`"${r}"`;case"transactsql":return`[${r}]`;case"mysql":case"mariadb":case"bigquery":default:return`\`${r}\``}}function rr(r,t){const{database:e}=Q();if(!0===t)return`'${r}'`;if(r){if("*"===r)return r;switch(e&&e.toLowerCase()){case"mysql":case"mariadb":case"sqlite":return`\`${r}\``;case"postgresql":case"heavydb":case"snowflake":case"noql":return`"${r}"`;case"transactsql":return`[${r}]`;case"bigquery":case"db2":return r;default:return`\`${r}\``}}}function tr(r){const t=[];if(!r)return t;const{type:e,symbol:n,value:s}=r;return t.push(e.toUpperCase()),n&&t.push(n),t.push(s.toUpperCase()),t}function er(r){if(r)return r.toUpperCase()}function nr(r){return r}function sr(r){if(!r)return;let{prefix:t}=r;const{type:e,parentheses:n,suffix:s,value:o}=r;let u="string"==typeof r?r:o;switch(e){case"backticks_quote_string":u=`\`${o}\``;break;case"string":u=`'${o}'`;break;case"regex_string":u=`r"${o}"`;break;case"hex_string":u=`X'${o}'`;break;case"full_hex_string":u="0x"+o;break;case"natural_string":u=`N'${o}'`;break;case"bit_string":u=`b'${o}'`;break;case"double_quote_string":u=`"${o}"`;break;case"single_quote_string":u=`'${o}'`;break;case"boolean":case"bool":u=o?"TRUE":"FALSE";break;case"null":u="NULL";break;case"star":u="*";break;case"param":u=`${t||":"}${o}`,t=null;break;case"origin":u=o.toUpperCase();break;case"date":case"datetime":case"time":case"timestamp":u=`${e.toUpperCase()} '${o}'`;break;case"var_string":u=`N'${o}'`}const a=[];return t&&a.push(er(t)),a.push(u),s&&a.push("object"==typeof s&&s.collate?tr(s.collate).join(" "):er(s)),u=a.join(" "),n?`(${u})`:u}function or(r,t){return function r(t,e){return Object.keys(t).filter(r=>{const e=t[r];return Array.isArray(e)||"object"==typeof e&&null!==e}).forEach(n=>{const s=t[n];if("object"!=typeof s||"param"!==s.type)return r(s,e);if(void 0===e[s.value])throw new Error(`no value for parameter :${s.value} found`);return t[n]=V(e[s.value]),null}),t}(JSON.parse(JSON.stringify(r)),t)}function ur(r){const{type:t,partitions:e}=r;return[er(t),`(${e.map(r=>{const{type:t}=r;if("range"!==t)return sr(r);const{start:e,end:n,symbol:s}=r;return`${sr(e)} ${er(s)} ${sr(n)}`}).join(", ")})`].join(" ")}function ar(r){const{dataType:t,length:e,parentheses:n,scale:s,suffix:o}=r;let u="";return null!=e&&(u=s?`${e}, ${s}`:e),n&&(u=`(${u})`),o&&o.length&&(u+=" "+o.join(" ")),`${t}${u}`}function ir(r){if(!r)return;const{dataType:t,definition:e,anglebracket:n}=r,s=er(t);if("ARRAY"!==s&&"STRUCT"!==s)return s;const o=e&&e.map(r=>{const{field_name:t,field_type:e}=r;return[t,ir(e)].filter(nr).join(" ")}).join(", ");return n?`${s}<${o}>`:`${s} ${o}`}function cr(r){if(!r)return;const t=[],{keyword:e,symbol:n,value:s}=r;return t.push(e.toUpperCase()),n&&t.push(n),t.push(sr(s)),t.join(" ")}function lr(r){return r.map(r=>{const{keyword:t,args:e}=r,n=[er(t)];if(e){const{keyword:r,columns:t}=e;n.push(er(r),t.map($).join(", "))}return n.join(" ")}).join(" OR ")}function fr(r){if(!r)return"";const{columns:t}=r;return["RETURNING",t.map(H).filter(nr).join(", ")].join(" ")}function pr(r){return r?[er(r.keyword),er(r.args)]:[]}function br(r){if(!r)return;if("string"==typeof r){const{database:r}=Q();switch(r&&r.toLowerCase()){case"sqlite":return"AUTOINCREMENT";default:return"AUTO_INCREMENT"}}const{keyword:t,seed:e,increment:n,parentheses:s}=r;let o=er(t);return s&&(o+=`(${sr(e)}, ${sr(n)})`),o}function dr(r){if(r)return r.map(D).filter(nr).join(", ")}function vr(r){const{name:t,value:e}=r;return["@"+t,"=",Pr(e)].filter(nr).join(" ")}function hr(r){const{left:t,right:e,symbol:n,keyword:s}=r;t.keyword=s;return`${Pr(t)} ${n} ${Pr(e)}`}function yr(r){let{keyword:t}=r;const{suffix:e}=r;let n="";switch(er(t)){case"BINLOG":n=function(r){const{in:t,from:e,limit:n}=r;return[B("IN",sr,t&&t.right),B("FROM",k,e),y(n)].filter(nr).join(" ")}(r);break;case"CHARACTER":case"COLLATION":n=function(r){const{expr:t}=r;if(!t)return;const{op:e}=t;return"LIKE"===er(e)?B("LIKE",sr,t.right):B("WHERE",Pr,t)}(r);break;case"COLUMNS":case"INDEXES":n=B("FROM",k,r.from);break;case"GRANTS":n=function(r){const{for:t}=r;if(!t)return;const{user:e,host:n,role_list:s}=t;let o=`'${e}'`;return n&&(o+=`@'${n}'`),["FOR",o,s&&"USING",s&&s.map(r=>`'${r}'`).join(", ")].filter(nr).join(" ")}(r);break;case"CREATE":n=B("",I,r[e]);break;case"VAR":n=Dr(r.var),t=""}return["SHOW",er(t),er(e),n].filter(nr).join(" ")}const wr={alter:function(r){const{keyword:t="table"}=r;switch(t){case"aggregate":return function(r){const{args:t,expr:e,keyword:n,name:s,type:o}=r,{expr:u,orderby:a}=t;return[er(o),er(n),[[rr(s.schema),rr(s.name)].filter(nr).join("."),`(${u.map(Or).join(", ")}${a?[" ORDER","BY",a.map(Or).join(", ")].join(" "):""})`].filter(nr).join(""),kr(e)].filter(nr).join(" ")}(r);case"table":return function(r){const{type:t,table:e,expr:n=[]}=r,s=er(t),o=k(e),u=n.map(Pr);return[s,"TABLE",o,u.join(", ")].filter(nr).join(" ")}(r);case"schema":return function(r){const{expr:t,keyword:e,schema:n,type:s}=r;return[er(s),er(e),rr(n),kr(t)].filter(nr).join(" ")}(r);case"domain":case"type":return function(r){const{expr:t,keyword:e,name:n,type:s}=r;return[er(s),er(e),[rr(n.schema),rr(n.name)].filter(nr).join("."),kr(t)].filter(nr).join(" ")}(r);case"function":return function(r){const{args:t,expr:e,keyword:n,name:s,type:o}=r;return[er(o),er(n),[[rr(s.schema),rr(s.name)].filter(nr).join("."),t&&`(${t.expr?t.expr.map(Or).join(", "):""})`].filter(nr).join(""),kr(e)].filter(nr).join(" ")}(r);case"view":return function(r){const{type:t,columns:e,attributes:n,select:s,view:o,with:u}=r,a=er(t),i=I(o),c=[a,"VIEW",i];e&&c.push(`(${e.map($).join(", ")})`);n&&c.push("WITH "+n.map(er).join(", "));c.push("AS",C(s)),u&&c.push(er(u));return c.filter(nr).join(" ")}(r)}},analyze:function(r){const{type:t,table:e}=r;return[er(t),I(e)].join(" ")},attach:function(r){const{type:t,database:e,expr:n,as:s,schema:o}=r;return[er(t),er(e),Pr(n),er(s),rr(o)].filter(nr).join(" ")},create:function(r){const{keyword:t}=r;let e="";switch(t.toLowerCase()){case"aggregate":e=function(r){const{type:t,replace:e,keyword:n,name:s,args:o,options:u}=r,a=[er(t),er(e),er(n)],i=[rr(s.schema),s.name].filter(nr).join("."),c=`${o.expr.map(Or).join(", ")}${o.orderby?[" ORDER","BY",o.orderby.map(Or).join(", ")].join(" "):""}`;return a.push(`${i}(${c})`,`(${u.map(Ir).join(", ")})`),a.filter(nr).join(" ")}(r);break;case"table":e=function(r){const{type:t,keyword:e,table:n,like:s,as:o,temporary:u,if_not_exists:a,create_definitions:i,table_options:c,ignore_replace:l,or_replace:f,query_expr:p}=r,b=[er(t),er(f),er(u),er(e),er(a),k(n)];if(s){const{type:r,table:t}=s,e=k(t);return b.push(er(r),e),b.filter(nr).join(" ")}i&&b.push(`(${i.map(Nr).join(", ")})`);c&&b.push(c.map(O).join(" "));b.push(er(l),er(o)),p&&b.push(Lr(p));return b.filter(nr).join(" ")}(r);break;case"trigger":e="constraint"===r.resource?function(r){const{constraint:t,constraint_kw:e,deferrable:n,events:s,execute:o,for_each:u,from:a,location:i,keyword:c,or:l,type:f,table:p,when:b}=r,v=[er(f),er(l),er(e),er(c),rr(t),er(i)],h=lr(s);v.push(h,"ON",I(p)),a&&v.push("FROM",I(a));v.push(...pr(n),...pr(u)),b&&v.push(er(b.type),Pr(b.cond));return v.push(er(o.keyword),d(o.expr)),v.filter(nr).join(" ")}(r):function(r){const{definer:t,for_each:e,keyword:n,execute:s,type:o,table:u,if_not_exists:a,temporary:i,trigger:c,events:l,order:f,time:p,when:b}=r,d=[er(o),er(i),t,er(n),er(a),I(c),er(p),l.map(r=>{const t=[er(r.keyword)],{args:e}=r;return e&&t.push(er(e.keyword),e.columns.map($).join(", ")),t.join(" ")}),"ON",I(u),er(e&&e.keyword),er(e&&e.args),f&&`${er(f.keyword)} ${rr(f.trigger)}`,B("WHEN",Pr,b),er(s.prefix)];switch(s.type){case"set":d.push(B("SET",m,s.expr));break;case"multiple":d.push(Cr(s.expr.ast))}return d.push(er(s.suffix)),d.filter(nr).join(" ")}(r);break;case"extension":e=function(r){const{extension:t,from:e,if_not_exists:n,keyword:s,schema:o,type:u,with:a,version:i}=r;return[er(u),er(s),er(n),sr(t),er(a),B("SCHEMA",sr,o),B("VERSION",sr,i),B("FROM",sr,e)].filter(nr).join(" ")}(r);break;case"function":e=function(r){const{type:t,replace:e,keyword:n,name:s,args:o,returns:u,options:a,last:i}=r,c=[er(t),er(e),er(n)],l=[rr(s.schema),s.name].filter(nr).join("."),f=o.map(Or).filter(nr).join(", ");return c.push(`${l}(${f})`,function(r){const{type:t,keyword:e,expr:n}=r;return[er(t),er(e),Array.isArray(n)?`(${n.map(P).join(", ")})`:Sr(n)].filter(nr).join(" ")}(u),a.map(Rr).join(" "),i),c.filter(nr).join(" ")}(r);break;case"index":e=function(r){const{concurrently:t,filestream_on:e,keyword:n,include:o,index_columns:a,index_type:i,index_using:c,index:l,on:f,index_options:p,algorithm_option:b,lock_option:d,on_kw:v,table:h,tablespace:y,type:w,where:L,with:C,with_before_where:m}=r,E=C&&`WITH (${u(C).join(", ")})`,A=o&&`${er(o.keyword)} (${o.columns.map(r=>rr(r)).join(", ")})`,_=[er(w),er(i),er(n),er(t),rr(l),er(v),I(h),...s(c),`(${dr(a)})`,A,u(p).join(" "),kr(b),kr(d),B("TABLESPACE",sr,y)];m?_.push(E,B("WHERE",Pr,L)):_.push(B("WHERE",Pr,L),E);return _.push(B("ON",Pr,f),B("FILESTREAM_ON",sr,e)),_.filter(nr).join(" ")}(r);break;case"sequence":e=function(r){const{type:t,keyword:e,sequence:n,temporary:s,if_not_exists:o,create_definitions:u}=r,a=[er(t),er(s),er(e),er(o),k(n)];u&&a.push(u.map(Nr).join(" "));return a.filter(nr).join(" ")}(r);break;case"database":e=function(r){const{type:t,keyword:e,database:n,if_not_exists:s,create_definitions:o}=r,u=[er(t),er(e),er(s),J(n)];o&&u.push(o.map(O).join(" "));return u.filter(nr).join(" ")}(r);break;case"view":e=function(r){const{algorithm:t,columns:e,definer:n,if_not_exists:s,keyword:o,recursive:u,replace:a,select:i,sql_security:c,temporary:l,type:f,view:p,with:b,with_options:d}=r,{db:v,view:h}=p,y=[rr(v),rr(h)].filter(nr).join(".");return[er(f),er(a),er(l),er(u),t&&"ALGORITHM = "+er(t),n,c&&"SQL SECURITY "+er(c),er(o),er(s),y,e&&`(${e.map(J).join(", ")})`,d&&["WITH",`(${d.map(r=>tr(r).join(" ")).join(", ")})`].join(" "),"AS",Lr(i),er(b)].filter(nr).join(" ")}(r);break;case"domain":e=function(r){const{as:t,domain:e,type:n,keyword:s,target:o,create_definitions:u}=r,a=[er(n),er(s),[rr(e.schema),rr(e.name)].filter(nr).join("."),er(t),ar(o)];if(u&&u.length>0){const r=[];for(const t of u){const e=t.type;switch(e){case"collate":r.push(tr(t).join(" "));break;case"default":r.push(er(e),Pr(t.value));break;case"constraint":r.push(i(t))}}a.push(r.filter(nr).join(" "))}return a.filter(nr).join(" ")}(r);break;case"type":e=function(r){const{as:t,create_definitions:e,keyword:n,name:s,resource:o,type:u}=r,a=[er(u),er(n),[rr(s.schema),rr(s.name)].filter(nr).join("."),er(t),er(o)];if(e){const r=[];switch(o){case"enum":r.push(Pr(e))}a.push(r.filter(nr).join(" "))}return a.filter(nr).join(" ")}(r);break;case"user":e=function(r){const{attribute:t,comment:e,default_role:n,if_not_exists:s,keyword:o,lock_option:u,password_options:a,require:i,resource_options:c,type:l,user:f}=r,p=f.map(r=>{const{user:t,auth_option:e}=r,n=[jr(t)];return e&&n.push(er(e.keyword),e.auth_plugin,sr(e.value)),n.filter(nr).join(" ")}).join(", "),b=[er(l),er(o),er(s),p];n&&b.push(er(n.keyword),n.value.map(jr).join(", "));b.push(B(i&&i.keyword,Pr,i&&i.value)),c&&b.push(er(c.keyword),c.value.map(r=>Pr(r)).join(" "));a&&a.forEach(r=>b.push(B(r.keyword,Pr,r.value)));return b.push(sr(u),cr(e),sr(t)),b.filter(nr).join(" ")}(r);break;default:throw new Error("unknown create resource "+t)}return e},select:C,deallocate:function(r){const{type:t,keyword:e,expr:n}=r;return[er(t),er(e),Pr(n)].filter(nr).join(" ")},delete:function(r){const{columns:t,from:e,table:n,where:s,orderby:o,with:u,limit:a}=r,i=[w(u),"DELETE"],c=W(t,e);return i.push(c),Array.isArray(n)&&(1===n.length&&!0===n[0].addition||i.push(k(n))),i.push(B("FROM",k,e)),i.push(B("WHERE",Pr,s)),i.push(Hr(o,"order by")),i.push(y(a)),i.filter(nr).join(" ")},exec:function(r){const{keyword:t,module:e,parameters:n}=r;return[er(t),I(e),(n||[]).map(vr).filter(nr).join(", ")].filter(nr).join(" ")},execute:function(r){const{type:t,name:e,args:n}=r,s=[er(t)],o=[e];n&&o.push(`(${Pr(n).join(", ")})`);return s.push(o.join("")),s.filter(nr).join(" ")},for:function(r){const{type:t,label:e,target:n,query:s,stmts:o}=r;return[e,er(t),n,"IN",Cr([s]),"LOOP",Cr(o),"END LOOP",e].filter(nr).join(" ")},update:function(r){const{from:t,table:e,set:n,where:s,orderby:o,with:u,limit:a,returning:i}=r;return[w(u),"UPDATE",k(e),B("SET",m,n),B("FROM",k,t),B("WHERE",Pr,s),Hr(o,"order by"),y(a),fr(i)].filter(nr).join(" ")},if:function(r){const{boolean_expr:t,else_expr:e,elseif_expr:n,if_expr:s,prefix:o,go:u,semicolons:a,suffix:i,type:c}=r,l=[er(c),Pr(t),sr(o),`${_r(s.ast||s)}${a[0]}`,er(u)];n&&l.push(n.map(r=>[er(r.type),Pr(r.boolean_expr),"THEN",_r(r.then.ast||r.then),r.semicolon].filter(nr).join(" ")).join(" "));e&&l.push("ELSE",`${_r(e.ast||e)}${a[1]}`);return l.push(sr(i)),l.filter(nr).join(" ")},insert:j,drop:Tr,truncate:Tr,replace:j,declare:function(r){const{type:t,declare:e,symbol:n}=r,s=[er(t)],o=e.map(r=>{const{at:t,name:e,as:n,constant:s,datatype:o,not_null:u,prefix:a,definition:i,keyword:c}=r,l=[[t,e].filter(nr).join(""),er(n),er(s)];switch(c){case"variable":l.push(U(o),...tr(r.collate),er(u)),i&&l.push(er(i.keyword),Pr(i.value));break;case"cursor":l.push(er(a));break;case"table":l.push(er(a),`(${i.map(Nr).join(", ")})`)}return l.filter(nr).join(" ")}).join(n+" ");return s.push(o),s.join(" ")},use:function(r){const{type:t,db:e}=r,n=er(t),s=rr(e);return`${n} ${s}`},rename:function(r){const{type:t,table:e}=r,n=[],s=(t&&t.toUpperCase())+" TABLE";if(e)for(const r of e){const t=r.map(I);n.push(t.join(" TO "))}return`${s} ${n.join(", ")}`},call:function(r){const t=Pr(r.expr);return"CALL "+t},desc:function(r){const{type:t,table:e}=r;return`${er(t)} ${rr(e)}`},set:function(r){const{expr:t}=r,e=Pr(t);return"SET "+e},lock:gr,unlock:gr,show:yr,grant:xr,revoke:xr,proc:function(r){const{stmt:t}=r;switch(t.type){case"assign":return hr(t);case"return":return function(r){const{type:t,expr:e}=r;return[er(t),Pr(e)].join(" ")}(t)}},raise:function(r){const{type:t,level:e,raise:n,using:s}=r,o=[er(t),er(e)];n&&o.push([sr(n.keyword),"format"===n.type&&n.expr.length>0&&","].filter(nr).join(""),n.expr.map(r=>Pr(r)).join(", "));s&&o.push(er(s.type),er(s.option),s.symbol,s.expr.map(r=>Pr(r)).join(", "));return o.filter(nr).join(" ")},transaction:function(r){const{expr:t}=r;return Pr(t)}};function Lr(r){if(!r)return"";const t=wr[r.type],{_parentheses:e,_orderby:n,_limit:s}=r,o=[e&&"(",t(r)];for(;r._next;){const t=wr[r._next.type],e=er(r.set_op);o.push(e,t(r._next)),r=r._next}return o.push(e&&")",Hr(n,"order by"),y(s)),o.filter(nr).join(" ")}function Cr(r){const t=[];for(let e=0,n=r.length;e<n;++e){const s=r[e]&&r[e].ast?r[e].ast:r[e];let o=Lr(s);e===n-1&&"transaction"===s.type&&(o+=" ;"),t.push(o)}return t.join(" ; ")}const mr=["analyze","attach","select","deallocate","delete","exec","update","insert","drop","rename","truncate","call","desc","use","alter","set","create","lock","unlock","declare","show","replace","if","grant","revoke","proc","raise","execute","transaction"];function Er(r){const t=r&&r.ast?r.ast:r;if(!mr.includes(t.type))throw new Error(t.type+" statements not supported at the moment")}function Ar(r){return Array.isArray(r)?(r.forEach(Er),Cr(r)):(Er(r),Lr(r))}function _r(r){return"go"===r.go?function r(t){if(!t||0===t.length)return"";const e=[Ar(t.ast)];return t.go_next&&e.push(t.go.toUpperCase(),r(t.go_next)),e.filter(r=>r).join(" ")}(r):Ar(r)}function Tr(r){const{type:t,keyword:e,name:n,prefix:s}=r,o=[er(t),er(e),er(s)];switch(e){case"table":o.push(k(n));break;case"trigger":o.push([n[0].schema?rr(n[0].schema)+".":"",rr(n[0].trigger)].filter(nr).join(""));break;case"database":case"schema":case"procedure":o.push(rr(n));break;case"view":o.push(k(n),r.options&&r.options.map(Pr).filter(nr).join(" "));break;case"index":o.push($(n),...r.table?["ON",I(r.table)]:[],r.options&&r.options.map(Pr).filter(nr).join(" "))}return o.filter(nr).join(" ")}function gr(r){const{type:t,keyword:e,tables:n}=r,s=[t.toUpperCase(),er(e)];if("UNLOCK"===t.toUpperCase())return s.join(" ");const o=[];for(const r of n){const{table:t,lock_type:e}=r,n=[I(t)];if(e){const r=["prefix","type","suffix"];n.push(r.map(r=>er(e[r])).filter(nr).join(" "))}o.push(n.join(" "))}return s.push(o.join(", "),...function(r){const{lock_mode:t,nowait:e}=r,n=[];if(t){const{mode:r}=t;n.push(r.toUpperCase())}return e&&n.push(e.toUpperCase()),n}(r)),s.filter(nr).join(" ")}function jr(r){const{name:t,host:e}=r,n=[sr(t)];return e&&n.push("@",sr(e)),n.join("")}function xr(r){const{type:t,grant_option_for:e,keyword:n,objects:s,on:o,to_from:u,user_or_roles:a,with:i}=r,c=[er(t),sr(e)],l=s.map(r=>{const{priv:t,columns:e}=r,n=[Pr(t)];return e&&n.push(`(${e.map($).join(", ")})`),n.join(" ")}).join(", ");if(c.push(l),o)switch(c.push("ON"),n){case"priv":c.push(sr(o.object_type),o.priv_level.map(r=>[rr(r.prefix),rr(r.name)].filter(nr).join(".")).join(", "));break;case"proxy":c.push(jr(o))}return c.push(er(u),a.map(jr).join(", ")),c.push(sr(i)),c.filter(nr).join(" ")}function Nr(r){if(!r)return[];const{resource:t}=r;switch(t){case"column":return P(r);case"index":return function(r){const t=[],{keyword:e,index:n}=r;return t.push(er(e)),t.push(n),t.push(...a(r)),t.filter(nr).join(" ")}(r);case"constraint":return i(r);case"sequence":return[er(r.prefix),Pr(r.value)].filter(nr).join(" ");default:throw new Error(`unknown resource = ${t} type`)}}function Sr(r){return r.dataType?ar(r):[rr(r.db),rr(r.schema),rr(r.table)].filter(nr).join(".")}function Rr(r){const{type:t}=r;switch(t){case"as":return[er(t),r.symbol,Lr(r.declare),er(r.begin),Cr(r.expr),er(r.end),r.symbol].filter(nr).join(" ");case"set":return[er(t),r.parameter,er(r.value&&r.value.prefix),r.value&&r.value.expr.map(Pr).join(", ")].filter(nr).join(" ");default:return Pr(r)}}function Ir(r){const{type:t,symbol:e,value:n}=r,s=[er(t),e];switch(er(t)){case"SFUNC":s.push([rr(n.schema),n.name].filter(nr).join("."));break;case"STYPE":case"MSTYPE":s.push(ar(n));break;default:s.push(Pr(n))}return s.filter(nr).join(" ")}function kr(r){if(!r)return"";const{action:t,create_definitions:e,first_after:n,if_not_exists:s,keyword:o,old_column:u,prefix:i,resource:c,symbol:l}=r;let f="",p=[];switch(c){case"column":p=[P(r)];break;case"index":p=a(r),f=r[c];break;case"table":case"schema":f=rr(r[c]);break;case"aggregate":case"function":case"domain":case"type":f=rr(r[c]);break;case"algorithm":case"lock":case"table-option":f=[l,er(r[c])].filter(nr).join(" ");break;case"constraint":f=rr(r[c]),p=[Nr(e)];break;case"key":f=rr(r[c]);break;default:f=[l,r[c]].filter(r=>null!==r).join(" ")}return[er(t),er(o),er(s),u&&$(u),er(i),f&&f.trim(),p.filter(nr).join(" "),n&&`${er(n.keyword)} ${$(n.column)}`].filter(nr).join(" ")}function Or(r){const t=r.default&&[er(r.default.keyword),Pr(r.default.value)].join(" ");return[er(r.mode),r.name,ar(r.type),t].filter(nr).join(" ")}function $r(r){const{expr_list:t,type:e}=r;switch(er(e)){case"STRUCT":return`(${W(t)})`;case"ARRAY":return function(r){const{array_path:t,brackets:e,expr_list:n,parentheses:s}=r;if(!n)return`[${W(t)}]`;const o=Array.isArray(n)?n.map(r=>`(${W(r)})`).filter(nr).join(", "):Pr(n);return e?`[${o}]`:s?`(${o})`:o}(r);default:return""}}function Ur(r){const{definition:t,keyword:e}=r,n=[er(e)];return t&&"object"==typeof t&&(n.length=0,n.push(ir(t))),n.push($r(r)),n.filter(nr).join("")}const Mr={alter:kr,aggr_func:function(r){const{args:t,filter:e,over:n,within_group_orderby:s}=r;let o=Pr(t.expr);const u=r.name,a=p(n);return t.distinct&&(o=["DISTINCT",o].join(" ")),t.orderby&&(o=`${o} ${Hr(t.orderby,"order by")}`),t.separator&&(o=[o,er(t.separator.keyword),sr(t.separator.value)].filter(nr).join(" ")),[`${u}(${o})`,s?`WITHIN GROUP (${Hr(s,"order by")})`:"",a,e?`FILTER (WHERE ${Pr(e.where)})`:""].filter(nr).join(" ")},any_value:function(r){const{args:t,type:e,over:n}=r,{expr:s,having:o}=t;let u=`${er(e)}(${Pr(s)}`;return o&&(u=`${u} HAVING ${er(o.prefix)} ${Pr(o.expr)}`),u+=")",[u,p(n)].filter(nr).join(" ")},window_func:function(r){const{over:t}=r;return[f(r),p(t)].filter(nr).join(" ")},array:Ur,assign:hr,binary_expr:v,case:function(r){const t=["CASE"],{args:e,expr:n,parentheses:s}=r;n&&t.push(Pr(n));for(let r=0,n=e.length;r<n;++r)t.push(e[r].type.toUpperCase()),e[r].cond&&(t.push(Pr(e[r].cond)),t.push("THEN")),t.push(Pr(e[r].result));return t.push("END"),s?`(${t.join(" ")})`:t.join(" ")},cast:b,column_ref:$,column_definition:P,datatype:ar,extract:function(r){const{args:t,type:e}=r,{field:n,cast_type:s,source:o}=t;return[`${er(e)}(${er(n)}`,"FROM",er(s),Pr(o)].filter(nr).join(" ")+")"},flatten:function(r){const{args:t,type:e}=r,n=["input","path","outer","recursive","mode"].map(r=>function(r){if(!r)return"";const{type:t,symbol:e,value:n}=r;return[er(t),e,Pr(n)].filter(nr).join(" ")}(t[r])).filter(nr).join(", ");return`${er(e)}(${n})`},fulltext_search:function(r){const{against:t,as:e,columns:n,match:s,mode:o}=r;return[[er(s),`(${n.map(r=>$(r)).join(", ")})`].join(" "),[er(t),["(",Pr(r.expr),o&&" "+sr(o),")"].filter(nr).join("")].join(" "),F(e)].filter(nr).join(" ")},function:d,insert:Lr,interval:x,json:function(r){const{keyword:t,expr_list:e}=r;return[er(t),e.map(r=>Pr(r)).join(", ")].join(" ")},show:yr,struct:Ur,tablefunc:function(r){const{as:t,name:e,args:n}=r;return[`${e}(${Pr(n).join(", ")})`,"AS",d(t)].join(" ")},tables:k,unnest:N,window:function(r){const{expr:t}=r;return t.map(l).join(", ")}};function Dr(r){const{prefix:t="@",name:e,members:n,keyword:s,quoted:o,suffix:u}=r,a=[];s&&a.push(s);let i=`${t||""}${n&&n.length>0?`${e}.${n.join(".")}`:e}`;return u&&(i+=u),a.push(i),[o,a.join(" "),o].filter(nr).join("")}function Pr(r){if(!r)return;const t=r;if(r.ast){const{ast:r}=t;Reflect.deleteProperty(t,r);for(const e of Object.keys(r))t[e]=r[e]}return Mr[t.type]?Mr[t.type](t):sr(t)}function Fr(r){return r?r.map(Pr):[]}function Hr(r,t){if(!Array.isArray(r))return"";let e=[];const n=er(t);switch(n){case"ORDER BY":e=r.map(r=>[Pr(r.expr),r.type||"ASC",er(r.nulls)].filter(nr).join(" "));break;case"PARTITION BY":default:e=r.map(r=>Pr(r.expr))}return q(n,e.join(", "))}Mr.var=Dr,Mr.expr_list=r=>{const t=Fr(r.value);return r.parentheses?`(${t.join(", ")})`:t},Mr.select=r=>{const t="object"==typeof r._next?Lr(r):C(r);return r.parentheses?`(${t})`:t},Mr.unary_expr=function(r){const{operator:t,parentheses:e,expr:n}=r,s=`${t}${"-"===t||"+"===t||"~"===t||"!"===t?"":" "}${Pr(n)}`;return e?`(${s})`:s};var Wr={bigquery:e(0).parse};var Yr=class{astify(r,t=Y){const e=this.parse(r,t);return e&&e.ast}sqlify(r,t=Y){return z(t),_r(r)}exprToSQL(r,t=Y){return z(t),Pr(r)}parse(r,t=Y){const{database:e="bigquery"}=t;z(t);const n=e.toLowerCase();if(Wr[n])return Wr[n](r.trim(),t.parseOptions||Y.parseOptions);throw new Error(e+" is not supported currently")}whiteListCheck(r,t,e=Y){if(!t||0===t.length)return;const{type:n="table"}=e;if(!this[n+"List"]||"function"!=typeof this[n+"List"])throw new Error(n+" is not valid check mode");const s=this[n+"List"].bind(this)(r,e);let o=!0,u="";for(const r of s){let e=!1;for(const n of t){if(new RegExp(n,"i").test(r)){e=!0;break}}if(!e){u=r,o=!1;break}}if(!o)throw new Error(`authority = '${u}' is required in ${n} whiteList to execute SQL = '${r}'`)}tableList(r,t){const e=this.parse(r,t);return e&&e.tableList}columnList(r,t){const e=this.parse(r,t);return e&&e.columnList}};"object"==typeof self&&self&&(self.NodeSQLParser={Parser:Yr,util:n}),"undefined"==typeof global&&"object"==typeof window&&window&&(window.global=window),"object"==typeof global&&global&&global.window&&(global.window.NodeSQLParser={Parser:Yr,util:n})}]));
//# sourceMappingURL=bigquery.js.map